function dhtmlDragAndDropObject(){return window.dhtmlDragAndDrop?window.dhtmlDragAndDrop:(this.lastLanding=0,this.dragNode=0,this.dragStartNode=0,this.dragStartObject=0,this.tempDOMU=null,this.tempDOMM=null,this.waitDrag=0,window.dhtmlDragAndDrop=this)}function dhtmlxEvent(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)}function dhtmlXMenuObject(t,e){var l=this;if(this.conf={skin:e||window.dhx4.skin||("undefined"!=typeof dhtmlx?dhtmlx.skin:null)||window.dhx4.skinDetect("dhxmenu")||"material",mode:"web",align:"left",is_touched:!1,selected:-1,last_click:-1,fixed_pos:!1,rtl:!1,icons_path:"",icons_css:!1,arrow_ff_fix:0<=navigator.userAgent.indexOf("MSIE")&&"BackCompat"==document.compatMode,live_id:window.dhx4.newId(),tags:{root:"menu",item:"item",text_ext:"itemtext",userdata:"userdata",tooltip:"tooltip",hotkey:"hotkey",href:"href"},autoload:{},hide_tm:{},top_mode:!0,top_tmtime:200,v_enabled:!1,v:{x1:null,x2:null,y1:null,y2:null},dir_toplv:"bottom",dir_sublv:"right",auto_overflow:!1,overflow_limit:0,of_utm:null,of_utime:20,of_ustep:3,of_dtm:null,of_dtime:20,of_dstep:3,of_ah:{dhx_skyblue:24,dhx_web:25,dhx_terrace:27,material:25},of_ih:{dhx_skyblue:24,dhx_web:24,dhx_terrace:24,material:30},tm_sec:400,tm_handler:null,dload:!1,dload_url:"",dload_icon:!1,dload_params:{action:"loadMenu"},dload_pid:"parentId",tl_botmarg:1,tl_rmarg:0,tl_ofsleft:1,context:!1,ctx_zoneid:!1,ctx_autoshow:!0,ctx_autohide:!0,ctx_hideall:!0,ctx_zones:{},ctx_baseid:null,selected_sub:[],opened_poly:[]},"object"==typeof t&&null!=t&&"undefined"==typeof t.tagName){for(var i in null==t.icons_path&&null==t.icon_path||(this.conf.icons_path=t.icons_path||t.icon_path),null!=t.skin&&(this.conf.skin=t.skin),t.visible_area&&(this.conf.v_enabled=!0,this.conf.v={x1:t.visible_area.x1,x2:t.visible_area.x2,y1:t.visible_area.y1,y2:t.visible_area.y2}),{json:1,xml:1,items:1,top_text:1,align:1,open_mode:1,overflow:1,dynamic:1,dynamic_icon:1,context:1,onload:1,onclick:1,oncheckboxclick:1,onradioclick:1,iconset:1})null!=t[i]&&(this.conf.autoload[i]=t[i]);t=t.parent}if(null==t)this.base=document.body;else{var n="string"==typeof t?document.getElementById(t):t;null!=n?(this.base=n,this.base.id||(this.base.id="menuBaseId_"+(new Date).getTime()),this.base.className+=" dhtmlxMenu_"+this.conf.skin+"_Middle dir_left",this.base._autoSkinUpdate=!0,this.base.oncontextmenu&&(this.base._oldContextMenuHandler=this.base.oncontextmenu),this.conf.ctx_baseid=this.base.id,this.base.onselectstart=function(t){return(t=t||event).preventDefault?t.preventDefault():t.returnValue=!1,!1},this.base.oncontextmenu=function(t){return(t=t||event).preventDefault?t.preventDefault():t.returnValue=!1,!1}):this.base=document.body}for(var i in this.idPrefix="",this.topId="dhxWebMenuTopId",this.idPull={},this.itemPull={},this.userData={},this.radio={},this.setSkin=function(t){var e=this.conf.skin;switch(this.conf.skin=t,this.conf.skin){case"dhx_skyblue":case"dhx_web":this.conf.tl_botmarg=2,this.conf.tl_rmarg=1,this.conf.tl_ofsleft=1;break;case"dhx_terrace":case"material":this.conf.tl_botmarg=0,this.conf.tl_rmarg=0,this.conf.tl_ofsleft=0}for(var i in this.base._autoSkinUpdate&&(this.base.className=this.base.className.replace("dhtmlxMenu_"+e+"_Middle","")+" dhtmlxMenu_"+this.conf.skin+"_Middle"),this.idPull)this.idPull[i].className=String(this.idPull[i].className).replace(e,this.conf.skin)},this.setSkin(this.conf.skin),this._addSubItemToSelected=function(t,e){for(var i=!0,n=0;n<this.conf.selected_sub.length;n++)this.conf.selected_sub[n][0]==t&&this.conf.selected_sub[n][1]==e&&(i=!1);return 1==i&&this.conf.selected_sub.push(new Array(t,e)),i},this._removeSubItemFromSelected=function(t,e){for(var i=new Array,n=!1,l=0;l<this.conf.selected_sub.length;l++)this.conf.selected_sub[l][0]==t&&this.conf.selected_sub[l][1]==e?n=!0:i[i.length]=this.conf.selected_sub[l];return 1==n&&(this.conf.selected_sub=i),n},this._getSubItemToDeselectByPolygon=function(t){for(var e=new Array,i=0;i<this.conf.selected_sub.length;i++)if(this.conf.selected_sub[i][1]==t){e[e.length]=this.conf.selected_sub[i][0],e=e.concat(this._getSubItemToDeselectByPolygon(this.conf.selected_sub[i][0]));for(var n=!0,l=0;l<this.conf.opened_poly.length;l++)this.conf.opened_poly[l]==this.conf.selected_sub[i][0]&&(n=!1);1==n&&(this.conf.opened_poly[this.conf.opened_poly.length]=this.conf.selected_sub[i][0]),this.conf.selected_sub[i][0]=-1,this.conf.selected_sub[i][1]=-1}return e},this._hidePolygon=function(t){if(null!=this.idPull["polygon_"+t]){if(null!=this.idPull["polygon_"+t]._zId&&window.dhx4.zim.clear(this.idPull["polygon_"+t]._zId),"undefined"!=typeof this._menuEffect&&!1!==this._menuEffect)this._hidePolygonEffect("polygon_"+t);else{if("none"==this.idPull["polygon_"+t].style.display)return;this.idPull["polygon_"+t].style.display="none",null!=this.idPull["arrowup_"+t]&&(this.idPull["arrowup_"+t].style.display="none"),null!=this.idPull["arrowdown_"+t]&&(this.idPull["arrowdown_"+t].style.display="none"),this._updateItemComplexState(t,!0,!1),window.dhx4.isIE6&&null!=this.idPull["polygon_"+t+"_ie6cover"]&&(this.idPull["polygon_"+t+"_ie6cover"].style.display="none")}(t=String(t).replace(this.idPrefix,""))==this.topId&&(t=null),this.callEvent("onHide",[t]),null!=t&&"dhx_terrace"==this.conf.skin&&this.itemPull[this.idPrefix+t].parent==this.idPrefix+this.topId&&this._improveTerraceButton(this.idPrefix+t,!0)}},this._showPolygon=function(t,e){var i=this._countVisiblePolygonItems(t);if(0!=i){var n="polygon_"+t;if(null!=this.idPull[n]&&null!=this.idPull[t]){if(this.conf.top_mode&&"web"==this.conf.mode&&!this.conf.context&&!this.idPull[t]._mouseOver&&e==this.conf.dir_toplv)return;this.conf.fixed_pos||this._autoDetectVisibleArea();var l=null,o=null;if(null==this.idPull[n]._zId&&(this.idPull[n]._zId=window.dhx4.newId()),this.idPull[n]._zInd=window.dhx4.zim.reserve(this.idPull[n]._zId),this.idPull[n].style.visibility="hidden",this.idPull[n].style.left="0px",this.idPull[n].style.top="0px",this.idPull[n].style.display="",this.idPull[n].style.zIndex=this.idPull[n]._zInd,this.conf.auto_overflow)if(this.idPull[n].childNodes[1].childNodes[0].offsetHeight>this.conf.v.y2-this.conf.v.y1){var s=Math.max(Math.floor((this.conf.v.y2-this.conf.v.y1-2*this.conf.of_ah[this.conf.skin])/this.conf.of_ih[this.conf.skin]),1);this.conf.overflow_limit=s}else this.conf.overflow_limit=0,null!=this.idPull["arrowup_"+t]&&this._removeUpArrow(String(t).replace(this.idPrefix,"")),null!=this.idPull["arrowdown_"+t]&&this._removeDownArrow(String(t).replace(this.idPrefix,""));if(0<this.conf.overflow_limit&&this.conf.overflow_limit<i&&(null==this.idPull["arrowup_"+t]&&this._addUpArrow(String(t).replace(this.idPrefix,"")),null==this.idPull["arrowdown_"+t]&&this._addDownArrow(String(t).replace(this.idPrefix,"")),(l=this.idPull["arrowup_"+t]).style.display="none",(o=this.idPull["arrowdown_"+t]).style.display="none"),0<this.conf.overflow_limit&&this.conf.overflow_limit<i?(this.idPull[n].childNodes[1].style.height=this.conf.of_ih[this.conf.skin]*this.conf.overflow_limit+"px",l.style.width=o.style.width=this.idPull[n].childNodes[1].style.width=this.idPull[n].childNodes[1].childNodes[0].offsetWidth+"px",this.idPull[n].childNodes[1].scrollTop=0,l.style.display="",l.offsetHeight,o.style.display="",o.offsetHeight):(this.idPull[n].childNodes[1].style.height="",this.idPull[n].childNodes[1].style.width=""),null!=this.itemPull[t])this.itemPull[t].parent;else if(this.conf.context)this.idPull[this.idPrefix+this.topId];var d=null!=this.idPull[t].tagName?window.dhx4.absLeft(this.idPull[t]):this.idPull[t][0],r=null!=this.idPull[t].tagName?window.dhx4.absTop(this.idPull[t]):this.idPull[t][1],a=null!=this.idPull[t].tagName?this.idPull[t].offsetWidth:0,h=null!=this.idPull[t].tagName?this.idPull[t].offsetHeight:0,u=0,c=0,m=this.idPull[n].offsetWidth,f=this.idPull[n].offsetHeight;if("bottom"==e&&(u=this.conf.rtl?d+(null!=a?a:0)-m:"right"==this.conf.align?d+a-m:d-1+(e==this.conf.dir_toplv?this.conf.tl_rmarg:0),c=r-1+h+this.conf.tl_botmarg),"right"==e&&(u=d+a-1,c=r+2),"left"==e&&(u=d-this.idPull[n].offsetWidth+2,c=r+2),"top"==e&&(u=d-1,c=r-f+2),this.conf.fixed_pos)var p=65536,_=65536;else{p=null!=this.conf.v.x2?this.conf.v.x2:0,_=null!=this.conf.v.y2?this.conf.v.y2:0;0==p&&(window.innerWidth?(p=window.innerWidth,_=window.innerHeight):(p=document.body.offsetWidth,_=document.body.scrollHeight))}if(p<u+m&&!this.conf.rtl&&(u=d-m+2),u<this.conf.v.x1&&this.conf.rtl&&(u=d+a-2),u<0&&(u=0),_<c+f&&null!=this.conf.v.y2&&(c=Math.max(r+h-f+2,this.conf.v_enabled?this.conf.v.y1+2:2),this.conf.context&&this.idPrefix+this.topId==t&&null!=o&&(c-=2),null==this.itemPull[t]||this.conf.context||this.itemPull[t].parent==this.idPrefix+this.topId&&(c-=this.base.offsetHeight)),this.idPull[n].style.left=u+"px",this.idPull[n].style.top=c+"px","undefined"!=typeof this._menuEffect&&!1!==this._menuEffect)this._showPolygonEffect(n);else if(this.idPull[n].style.visibility="",0<this.conf.overflow_limit&&this.conf.overflow_limit<i&&(this.idPull[n].childNodes[1].scrollTop=0,this._checkArrowsState(t)),window.dhx4.isIE6){var g=n+"_ie6cover";if(null==this.idPull[g]){var x=document.createElement("IFRAME");x.className="dhtmlxMenu_IE6CoverFix_"+this.conf.skin,x.frameBorder=0,x.setAttribute("src","javascript:false;"),document.body.insertBefore(x,document.body.firstChild),this.idPull[g]=x}this.idPull[g].style.left=u+"px",this.idPull[g].style.top=c+"px",this.idPull[g].style.width=this.idPull[n].offsetWidth+"px",this.idPull[g].style.height=this.idPull[n].offsetHeight+"px",this.idPull[g].style.zIndex=this.idPull[n].style.zIndex-1,this.idPull[g].style.display=""}(t=String(t).replace(this.idPrefix,""))==this.topId&&(t=null),this.callEvent("onShow",[t]),null!=t&&"dhx_terrace"==this.conf.skin&&this.itemPull[this.idPrefix+t].parent==this.idPrefix+this.topId&&this._improveTerraceButton(this.idPrefix+t,!1)}}},this._redistribSubLevelSelection=function(t,e){for(;0<this.conf.opened_poly.length;)this.conf.opened_poly.pop();var i=this._getSubItemToDeselectByPolygon(e);this._removeSubItemFromSelected(-1,-1);for(var n=0;n<i.length;n++)null!=this.idPull[i[n]]&&i[n]!=t&&"enabled"==this.itemPull[i[n]].state&&(this.idPull[i[n]].className="sub_item");for(n=0;n<this.conf.opened_poly.length;n++)this.conf.opened_poly[n]!=e&&this._hidePolygon(this.conf.opened_poly[n]);if("enabled"==this.itemPull[t].state){if(this.idPull[t].className="sub_item_selected",this.itemPull[t].complex&&this.conf.dload&&"no"==this.itemPull[t].loaded){1==this.conf.dload_icon&&this._updateLoaderIcon(t,!0),this.itemPull[t].loaded="get";var l=t.replace(this.idPrefix,"");this._dhxdataload.onBeforeXLS=function(){var t={params:{}};for(var e in t.params[this.conf.dload_pid]=l,this.conf.dload_params)t.params[e]=this.conf.dload_params[e];return t},this.loadStruct(this.conf.dload_url)}(this.itemPull[t].complex||this.conf.dload&&"yes"==this.itemPull[t].loaded)&&this.itemPull[t].complex&&null!=this.idPull["polygon_"+t]&&(this._updateItemComplexState(t,!0,!0),this._showPolygon(t,this.conf.dir_sublv)),this._addSubItemToSelected(t,e),this.conf.selected=t}},this._doOnClick=function(t,e,i){if(this.conf.last_click=t,null!=this.itemPull[this.idPrefix+t].href_link&&"enabled"==this.itemPull[this.idPrefix+t].state){var n=document.createElement("FORM"),l=String(this.itemPull[this.idPrefix+t].href_link).split("?");if(n.action=l[0],null!=l[1])for(var o=String(l[1]).split("&"),s=0;s<o.length;s++){var d=String(o[s]).split("="),r=document.createElement("INPUT");r.type="hidden",r.name=d[0]||"",r.value=d[1]||"",n.appendChild(r)}return null!=this.itemPull[this.idPrefix+t].href_target&&(n.target=this.itemPull[this.idPrefix+t].href_target),n.style.display="none",document.body.appendChild(n),n.submit(),void(null!=n&&(document.body.removeChild(n),n=null))}if("c"!=e.charAt(0)&&"d"!=e.charAt(1)&&"s"!=e.charAt(2)){if(this.checkEvent("onClick"))this.callEvent("onClick",[t,this.conf.ctx_zoneid,i]);else if("d"==e.charAt(1)||"win"==this.conf.mode&&"t"==e.charAt(2))return;this.conf.context&&this._isContextMenuVisible()&&this.conf.ctx_autohide?this._hideContextMenu():this._clearAndHide&&this._clearAndHide()}},this._doOnTouchMenu=function(t){0==this.conf.is_touched&&(this.conf.is_touched=!0,this.checkEvent("onTouch")&&this.callEvent("onTouch",[t]))},this._searchMenuNode=function(t,e){for(var i=new Array,n=0;n<e.length;n++)if("object"==typeof e[n]){5==e[n].length&&"object"!=typeof e[n][0]&&e[n][0].replace(this.idPrefix,"")==t&&0==n&&(i=e);var l=this._searchMenuNode(t,e[n]);0<l.length&&(i=l)}return i},this._getMenuNodes=function(t){var e=new Array;for(var i in this.itemPull)this.itemPull[i].parent==t&&(e[e.length]=i);return e},this._genStr=function(t){for(var e="dhxId_",i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n=0;n<t;n++)e+=i.charAt(Math.round(Math.random()*(i.length-1)));return e},this.getItemType=function(t){return t=this.idPrefix+t,null==this.itemPull[t]?null:this.itemPull[t].type},this.forEachItem=function(t){for(var e in this.itemPull)t(String(e).replace(this.idPrefix,""))},this._clearAndHide=function(){for(l.conf.selected=-1,l.conf.last_click=-1;0<l.conf.opened_poly.length;)l.conf.opened_poly.pop();for(var t=0;t<l.conf.selected_sub.length;t++){var e=l.conf.selected_sub[t][0];null!=l.idPull[e]&&"enabled"==l.itemPull[e].state&&("sub_item_selected"==l.idPull[e].className&&(l.idPull[e].className="sub_item"),l.idPull[e].className=="dhtmlxMenu_"+l.conf.skin+"_TopLevel_Item_Selected"&&(null!=l.itemPull[e].cssNormal?l.idPull[e].className=l.itemPull[e].cssNormal:l.idPull[e].className="dhtmlxMenu_"+l.conf.skin+"_TopLevel_Item_Normal")),l._hidePolygon(e)}l.conf.is_touched=!1,l.conf.context&&l.conf.ctx_hideall&&l._hidePolygon(l.idPrefix+l.topId)},this._showSubLevelItem=function(t,e){null!=document.getElementById("arrow_"+this.idPrefix+t)&&(document.getElementById("arrow_"+this.idPrefix+t).style.display=e?"none":""),null!=document.getElementById("image_"+this.idPrefix+t)&&(document.getElementById("image_"+this.idPrefix+t).style.display=e?"none":""),null!=document.getElementById(this.idPrefix+t)&&(document.getElementById(this.idPrefix+t).style.display=e?"":"none")},this._hideSubLevelItem=function(t){this._showSubLevelItem(t,!0)},this.idPrefix=this._genStr(12)+"_",this._bodyClick=function(t){2==(t=t||event).button||window.dhx4.isOpera&&1==t.ctrlKey||(l.conf.context?l.conf.ctx_autohide&&(!window.dhx4.isOpera||l._isContextMenuVisible()&&window.dhx4.isOpera)&&l._hideContextMenu():l._clearAndHide&&l._clearAndHide())},this._bodyContext=function(t){t=t||event;var e=String((t.srcElement||t.target).className);if(-1==e.search("dhtmlxMenu")||-1==e.search("SubLevelArea")){for(var i=!0,n=t.target||t.srcElement;null!=n;)null!=n.id&&l.isContextZone(n.id)&&(i=!1),n==document.body&&(i=!1),n=n.parentNode;i&&l.hideContextMenu()}},"undefined"!=typeof window.addEventListener?(window.addEventListener("click",this._bodyClick,!1),window.addEventListener("contextmenu",this._bodyContext,!1)):(document.body.attachEvent("onclick",this._bodyClick),document.body.attachEvent("oncontextmenu",this._bodyContext)),this.unload=function(){window.dhx4._eventable(this,"clear"),dhtmlXMenuObject.prototype.liveInst[this.conf.live_id]=null;try{delete dhtmlXMenuObject.prototype.liveInst[this.conf.live_id]}catch(e){}if(this.conf.live_id=null,"function"==typeof window.addEventListener?(window.removeEventListener("click",this._bodyClick,!1),window.removeEventListener("contextmenu",this._bodyContext,!1)):(document.body.detachEvent("onclick",this._bodyClick),document.body.detachEvent("oncontextmenu",this._bodyContext)),this._bodyClick=null,this._bodyContext=null,this.removeItem(this.idPrefix+this.topId,!0),this.itemPull=null,this.idPull=null,this.conf.context)for(var t in this.conf.ctx_zones)this.removeContextZone(t);for(var t in null!=this.cont&&(this.cont.className="",this.cont.parentNode.removeChild(this.cont),this.cont=null),null!=this.base&&(this.conf.context||(this.base.className=""),this.conf.context||(this.base.oncontextmenu=this.base._oldContextMenuHandler||null),this.base.onselectstart=null,this.base=null),this)this[t]=null;l=null},dhtmlXMenuObject.prototype.liveInst[this.conf.live_id]=this,window.dhx4._enableDataLoading(this,"_initObj","_xmlToJson",this.conf.tags.root,{struct:!0}),window.dhx4._eventable(this),1==window.dhx4.s2b(this.conf.autoload.context)&&this.renderAsContextMenu(),null!=this.conf.autoload.dynamic?this.enableDynamicLoading(this.conf.autoload.dynamic,window.dhx4.s2b(this.conf.autoload.dynamic_icon)):null!=this.conf.autoload.items?this.loadStruct(this.conf.autoload.items,this.conf.autoload.onload):null!=this.conf.autoload.json?this.loadStruct(this.conf.autoload.json,this.conf.autoload.onload):null!=this.conf.autoload.xml&&this.loadStruct(this.conf.autoload.xml,this.conf.autoload.onload),{onclick:1,oncheckboxclick:1,onradioclick:1})null!=this.conf.autoload[i]&&("function"==typeof this.conf.autoload[i]?this.attachEvent(i,this.conf.autoload[i]):"function"==typeof window[this.conf.autoload[i]]&&this.attachEvent(i,window[this.conf.autoload[i]]));for(var i in null!=this.conf.autoload.top_text&&this.setTopText(this.conf.autoload.top_text),null!=this.conf.autoload.align&&this.setAlign(this.conf.autoload.align),null!=this.conf.autoload.open_mode&&this.setOpenMode(this.conf.autoload.open_mode),null!=this.conf.autoload.overflow&&this.setOverflowHeight(this.conf.autoload.overflow),"awesome"==this.conf.autoload.iconset&&(this.conf.icons_css=!0),this.conf.autoload)this.conf.autoload[i]=null,delete this.conf.autoload[i];return this.conf.autoload=null,this}"undefined"==typeof window.dhx&&(window.dhx=window.dhx4={version:"5.0",skin:null,skinDetect:function(t){return{10:"dhx_skyblue",20:"dhx_web",30:"dhx_terrace",40:"material"}[this.readFromCss(t+"_skin_detect")]||null},readFromCss:function(t,e,i){var n=document.createElement("DIV");n.className=t,null!=document.body.firstChild?document.body.insertBefore(n,document.body.firstChild):document.body.appendChild(n),"string"==typeof i&&(n.innerHTML=i);var l=n[e||"offsetWidth"];return n.parentNode.removeChild(n),n=null,l},lastId:1,newId:function(){return this.lastId++},zim:{data:{},step:5,first:function(){return 100},last:function(){var t=this.first();for(var e in this.data)t=Math.max(t,this.data[e]);return t},reserve:function(t){return this.data[t]=this.last()+this.step,this.data[t]},clear:function(t){null!=this.data[t]&&(this.data[t]=null,delete this.data[t])}},s2b:function(t){return"string"==typeof t&&(t=t.toLowerCase()),1==t||1==t||"true"==t||"1"==t||"yes"==t||"y"==t||"on"==t},s2j:function(s){var obj=null;dhx4.temp=null;try{eval("dhx4.temp="+s)}catch(e){dhx4.temp=null}return obj=dhx4.temp,dhx4.temp=null,obj},absLeft:function(t){return"string"==typeof t&&(t=document.getElementById(t)),this.getOffset(t).left},absTop:function(t){return"string"==typeof t&&(t=document.getElementById(t)),this.getOffset(t).top},_aOfs:function(t){for(var e=0,i=0;t;)e+=parseInt(t.offsetTop),i+=parseInt(t.offsetLeft),t=t.offsetParent;return{top:e,left:i}},_aOfsRect:function(t){var e=t.getBoundingClientRect(),i=document.body,n=document.documentElement,l=window.pageYOffset||n.scrollTop||i.scrollTop,o=window.pageXOffset||n.scrollLeft||i.scrollLeft,s=n.clientTop||i.clientTop||0,d=n.clientLeft||i.clientLeft||0,r=e.top+l-s,a=e.left+o-d;return{top:Math.round(r),left:Math.round(a)}},getOffset:function(t){return t.getBoundingClientRect?this._aOfsRect(t):this._aOfs(t)},_isObj:function(t){return null!=t&&"object"==typeof t&&"undefined"==typeof t.length},_copyObj:function(t){if(this._isObj(t)){var e={};for(var i in t)"object"==typeof t[i]&&null!=t[i]?e[i]=this._copyObj(t[i]):e[i]=t[i]}else for(e=[],i=0;i<t.length;i++)"object"==typeof t[i]&&null!=t[i]?e[i]=this._copyObj(t[i]):e[i]=t[i];return e},screenDim:function(){var t=0<=navigator.userAgent.indexOf("MSIE"),e={};return e.left=document.body.scrollLeft,e.right=e.left+(window.innerWidth||document.body.clientWidth),e.top=Math.max((t?document.documentElement:document.getElementsByTagName("html")[0]).scrollTop,document.body.scrollTop),e.bottom=e.top+(t?Math.max(document.documentElement.clientHeight||0,document.documentElement.offsetHeight||0):window.innerHeight),e},selectTextRange:function(t,e,i){var n=(t="string"==typeof t?document.getElementById(t):t).value.length;if(e=Math.max(Math.min(e,n),0),i=Math.min(i,n),t.setSelectionRange)try{t.setSelectionRange(e,i)}catch(o){}else if(t.createTextRange){var l=t.createTextRange();l.moveStart("character",e),l.moveEnd("character",i-n);try{l.select()}catch(o){}}},transData:null,transDetect:function(){if(null==this.transData){this.transData={transProp:!1,transEv:null};var t={MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd",msTransition:"transitionend",transition:"transitionend"};for(var e in t)0==this.transData.transProp&&null!=document.documentElement.style[e]&&(this.transData.transProp=e,this.transData.transEv=t[e]);t=null}return this.transData},_xmlNodeValue:function(t){for(var e="",i=0;i<t.childNodes.length;i++)e+=null!=t.childNodes[i].nodeValue?t.childNodes[i].nodeValue.toString().replace(/^[\n\r\s]{0,}/,"").replace(/[\n\r\s]{0,}$/,""):"";return e}},window.dhx4.isIE=0<=navigator.userAgent.indexOf("MSIE")||0<=navigator.userAgent.indexOf("Trident"),window.dhx4.isIE6=null==window.XMLHttpRequest&&0<=navigator.userAgent.indexOf("MSIE"),window.dhx4.isIE7=0<=navigator.userAgent.indexOf("MSIE 7.0")&&navigator.userAgent.indexOf("Trident")<0,window.dhx4.isIE8=0<=navigator.userAgent.indexOf("MSIE 8.0")&&0<=navigator.userAgent.indexOf("Trident"),window.dhx4.isIE9=0<=navigator.userAgent.indexOf("MSIE 9.0")&&0<=navigator.userAgent.indexOf("Trident"),window.dhx4.isIE10=0<=navigator.userAgent.indexOf("MSIE 10.0")&&0<=navigator.userAgent.indexOf("Trident")&&1!=window.navigator.pointerEnabled,window.dhx4.isIE11=0<=navigator.userAgent.indexOf("Trident")&&1==window.navigator.pointerEnabled,window.dhx4.isEdge=0<=navigator.userAgent.indexOf("Edge"),window.dhx4.isOpera=0<=navigator.userAgent.indexOf("Opera"),window.dhx4.isChrome=0<=navigator.userAgent.indexOf("Chrome")&&!window.dhx4.isEdge,window.dhx4.isKHTML=(0<=navigator.userAgent.indexOf("Safari")||0<=navigator.userAgent.indexOf("Konqueror"))&&!window.dhx4.isEdge,window.dhx4.isFF=0<=navigator.userAgent.indexOf("Firefox"),window.dhx4.isIPad=0<=navigator.userAgent.search(/iPad/gi),window.dhx4.dnd={evs:{},p_en:(window.dhx4.isIE||window.dhx4.isEdge)&&(window.navigator.pointerEnabled||window.navigator.msPointerEnabled),_mTouch:function(t){return window.dhx4.isIE10&&t.pointerType==t.MSPOINTER_TYPE_MOUSE||window.dhx4.isIE11&&"mouse"==t.pointerType||window.dhx4.isEdge&&"mouse"==t.pointerType},_touchOn:function(t){null==t&&(t=document.body),t.style.touchAction=t.style.msTouchAction="",t=null},_touchOff:function(t){null==t&&(t=document.body),t.style.touchAction=t.style.msTouchAction="none",t=null}},1==window.navigator.pointerEnabled?window.dhx4.dnd.evs={start:"pointerdown",move:"pointermove",end:"pointerup"}:1==window.navigator.msPointerEnabled?window.dhx4.dnd.evs={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:"undefined"!=typeof window.addEventListener&&(window.dhx4.dnd.evs={start:"touchstart",move:"touchmove",end:"touchend"})),"undefined"==typeof window.dhx4.template&&(window.dhx4.trim=function(t){return String(t).replace(/^\s{1,}/,"").replace(/\s{1,}$/,"")},window.dhx4.template=function(t,h,u){return t.replace(/#([a-z0-9_-]{1,})(\|([^#]*))?#/gi,function(t,e,i,n){var l=e,o=window.dhx4.trim(n),s=null,d=[h[l]];if(0<o.length){o=o.split(":");for(var r=[],a=0;a<o.length;a++)0<a&&null!=r[r.length-1].match(/\\$/)?r[r.length-1]=r[r.length-1].replace(/\\$/,"")+":"+o[a]:r.push(o[a]);s=r[0];for(a=1;a<r.length;a++)d.push(r[a])}return"string"==typeof s&&"function"==typeof window.dhx4.template[s]?window.dhx4.template[s].apply(window.dhx4.template,d):0<l.length&&"undefined"!=typeof h[l]?1==u?window.dhx4.trim(h[l]):String(h[l]):""})},window.dhx4.template.date=function(t,e){return null!=t?t instanceof Date?window.dhx4.date2str(t,e):null!=(t=t.toString()).match(/^\d*$/)?window.dhx4.date2str(new Date(parseInt(t)),e):t:""},window.dhx4.template.maxlength=function(t,e){return String(t).substr(0,e)},window.dhx4.template.number_format=function(t,e,i,n){var l=window.dhx4.template._parseFmt(e,i,n);return 0==l?t:window.dhx4.template._getFmtValue(t,l)},window.dhx4.template.lowercase=function(t){return void 0!==t&&null!=t||(t=""),String(t).toLowerCase()},window.dhx4.template.uppercase=function(t){return void 0!==t&&null!=t||(t=""),String(t).toUpperCase()},window.dhx4.template._parseFmt=function(t,e,i){var n=t.match(/^([^\.\,0-9]*)([0\.\,]*)([^\.\,0-9]*)/);if(null==n||4!=n.length)return!1;var l={i_len:!1,i_sep:"string"==typeof e?e:",",d_len:!1,d_sep:"string"==typeof i?i:".",s_bef:"string"==typeof n[1]?n[1]:"",s_aft:"string"==typeof n[3]?n[3]:""},o=n[2].split(".");null!=o[1]&&(l.d_len=o[1].length);var s=o[0].split(",");return 1<s.length&&(l.i_len=s[s.length-1].length),l},window.dhx4.template._getFmtValue=function(value,fmt){var r=String(value).match(/^(-)?([0-9]{1,})(\.([0-9]{1,}))?$/);if(null==r||5!=r.length)return value;var v0="";if(null!=r[1]&&(v0+=r[1]),v0+=fmt.s_bef,!1!==fmt.i_len){for(var i=0,v1="",q=r[2].length-1;0<=q;q--)v1=""+r[2].charAt(q)+v1,++i==fmt.i_len&&0<q&&(v1=fmt.i_sep+v1,i=0);v0+=v1}else v0+=r[2];if(!1!==fmt.d_len){for(null==r[4]&&(r[4]="");r[4].length<fmt.d_len;)r[4]+="0";eval("dhx4.temp = new RegExp(/\\d{"+fmt.d_len+"}/);");var t1=r[4].match(dhx4.temp);null!=t1&&(v0+=fmt.d_sep+t1),dhx4.temp=t1=null}return v0+=fmt.s_aft,v0}),"undefined"==typeof window.dhx4.dateLang&&(window.dhx4.dateLang="en",window.dhx4.dateStrings={en:{monthFullName:["January","February","March","April","May","June","July","August","September","October","November","December"],monthShortName:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayFullName:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayShortName:["Su","Mo","Tu","We","Th","Fr","Sa"]}},window.dhx4.dateFormat={en:"%Y-%m-%d"},window.dhx4.date2str=function(l,t,o){if(null!=t&&void 0!==t||(t=window.dhx4.dateFormat[window.dhx4.dateLang]),null!=o&&void 0!==o||(o=window.dhx4.dateStrings[window.dhx4.dateLang]),l instanceof Date)var s=function(t){return 1==String(t).length?"0"+String(t):t},e=function(t){switch(t){case"%d":return s(l.getDate());case"%j":return l.getDate();case"%D":return o.dayShortName[l.getDay()];case"%l":return o.dayFullName[l.getDay()];case"%m":return s(l.getMonth()+1);case"%n":return l.getMonth()+1;case"%M":return o.monthShortName[l.getMonth()];case"%F":return o.monthFullName[l.getMonth()];case"%y":return s(l.getYear()%100);case"%Y":return l.getFullYear();case"%g":return(l.getHours()+11)%12+1;case"%h":return s((l.getHours()+11)%12+1);case"%G":return l.getHours();case"%H":return s(l.getHours());case"%i":return s(l.getMinutes());case"%s":return s(l.getSeconds());case"%a":return 11<l.getHours()?"pm":"am";case"%A":return 11<l.getHours()?"PM":"AM";case"%%":return"%";case"%u":return l.getMilliseconds();case"%P":if(null!=window.dhx4.temp_calendar&&null!=window.dhx4.temp_calendar.tz)return window.dhx4.temp_calendar.tz;var e=l.getTimezoneOffset(),i=Math.abs(Math.floor(e/60)),n=Math.abs(e)-60*i;return(0<e?"-":"+")+s(i)+":"+s(n);default:return t}},i=String(t||window.dhx4.dateFormat).replace(/%[a-zA-Z]/g,e);return i||String(l)},window.dhx4.str2date=function(t,e,i){null!=e&&void 0!==e||(e=window.dhx4.dateFormat[window.dhx4.dateLang]),null!=i&&void 0!==i||(i=window.dhx4.dateStrings[window.dhx4.dateLang]),e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\\:|]/g,"\\$&");var n=[],l=[];e=e.replace(/%[a-z]/gi,function(t){switch(t){case"%d":case"%m":case"%y":case"%h":case"%H":case"%i":case"%s":return l.push(t),"(\\d{2})";case"%D":case"%l":case"%M":case"%F":return l.push(t),"([a-z\xe9\xfb\xe4\u0430-\u044f\u0451]{1,})";case"%j":case"%n":case"%g":case"%G":return l.push(t),"(\\d{1,2})";case"%Y":return l.push(t),"(\\d{4})";case"%a":return l.push(t),"([a|p]m)";case"%A":return l.push(t),"([A|P]M)";case"%u":return l.push(t),"(\\d{1,6})";case"%P":return l.push(t),"([+-]\\d{1,2}:\\d{1,2})"}return t});var o=new RegExp(e,"i"),s=t.match(o);if(null==s||s.length-1!=l.length)return"Invalid Date";for(var d=1;d<s.length;d++)n.push(s[d]);var r={"%y":1,"%Y":1,"%n":2,"%m":2,"%M":2,"%F":2,"%d":3,"%j":3,"%a":4,"%A":4,"%H":5,"%G":5,"%h":5,"%g":5,"%i":6,"%s":7,"%u":7,"%P":7},a={},h={};for(d=0;d<l.length;d++)if("undefined"!=typeof r[l[d]]){var u=r[l[d]];a[u]||(a[u]=[],h[u]=[]),a[u].push(n[d]),h[u].push(l[d])}n=[],l=[];for(d=1;d<=7;d++)if(null!=a[d])for(var c=0;c<a[d].length;c++)n.push(a[d][c]),l.push(h[d][c]);var m=new Date;m.setDate(1),m.setHours(0),m.setMinutes(0),m.setSeconds(0),m.setMilliseconds(0);var f=function(t,e){for(var i=0;i<e.length;i++)if(e[i].toLowerCase()==t)return i;return-1};for(d=0;d<n.length;d++)switch(l[d]){case"%d":case"%j":case"%n":case"%m":case"%Y":case"%H":case"%G":case"%i":case"%s":case"%u":isNaN(n[d])||m[{"%d":"setDate","%j":"setDate","%n":"setMonth","%m":"setMonth","%Y":"setFullYear","%H":"setHours","%G":"setHours","%i":"setMinutes","%s":"setSeconds","%u":"setMilliseconds"}[l[d]]](Number(n[d])+("%m"==l[d]||"%n"==l[d]?-1:0));break;case"%M":case"%F":var p=f(n[d].toLowerCase(),i[{"%M":"monthShortName","%F":"monthFullName"}[l[d]]]);0<=p&&m.setMonth(p);break;case"%y":if(!isNaN(n[d])){var _=Number(n[d]);m.setFullYear(_+(50<_?1900:2e3))}break;case"%g":case"%h":if(!isNaN(n[d]))(_=Number(n[d]))<=12&&0<=_&&m.setHours(_+(0<=f("pm",n)?12==_?0:12:12==_?-12:0));break;case"%P":null!=window.dhx4.temp_calendar&&(window.dhx4.temp_calendar.tz=n[d])}return m}),"undefined"==typeof window.dhx4.ajax&&(window.dhx4.ajax={cache:!1,method:"get",parse:function(t){if("string"!=typeof t)return t;if(t=t.replace(/^[\s]+/,""),window.DOMParser&&!dhx4.isIE)var e=(new window.DOMParser).parseFromString(t,"text/xml");else window.ActiveXObject!==window.undefined&&((e=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t));return e},xmltop:function(t,e,i){if(("undefined"==typeof e.status||e.status<400)&&(xml=e.responseXML?e.responseXML||e:dhx4.ajax.parse(e.responseText||e),xml&&null!==xml.documentElement))try{if(!xml.getElementsByTagName("parsererror").length)return xml.getElementsByTagName(t)[0]}catch(n){}return-1!==i&&dhx4.callEvent("onLoadXMLError",["Incorrect XML",e,i]),document.createElement("DIV")},xpath:function(t,e){if(e.nodeName||(e=e.responseXML||e),!dhx4.isIE){for(var i,n=[],l=(e.ownerDocument||e).evaluate(t,e,null,XPathResult.ANY_TYPE,null);i=l.iterateNext();)n.push(i);return n}try{return e.selectNodes(t)||[]}catch(o){return[]}},query:function(t){dhx4.ajax._call(t.method||"GET",t.url,t.data||"",t.async||!0,t.callback,null,t.headers)},get:function(t,e){return this._call("GET",t,null,!0,e)},getSync:function(t){return this._call("GET",t,null,!1)},put:function(t,e,i){return this._call("PUT",t,e,!0,i)},del:function(t,e,i){return this._call("DELETE",t,e,!0,i)},post:function(t,e,i){return 1==arguments.length?e="":2!=arguments.length||"function"!=typeof e&&"function"!=typeof window[e]?e=String(e):(i=e,e=""),this._call("POST",t,e,!0,i)},postSync:function(t,e){return e=null==e?"":String(e),this._call("POST",t,e,!1)},getLong:function(t,e){this._call("GET",t,null,!0,e,{url:t})},postLong:function(t,e,i){2!=arguments.length||"function"!=typeof e&&(window[e],0)||(i=e,e=""),this._call("POST",t,e,!0,i,{url:t,postData:e})},_call:function(t,e,i,n,l,o,s){var d=window.XMLHttpRequest&&!dhx4.isIE?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),r=null!=navigator.userAgent.match(/AppleWebKit/)&&null!=navigator.userAgent.match(/Qt/)&&null!=navigator.userAgent.match(/Safari/);if(1==n&&(d.onreadystatechange=function(){if(4==d.readyState||1==r&&3==d.readyState){if((200!=d.status||""==d.responseText)&&!dhx4.callEvent("onAjaxError",[{xmlDoc:d,filePath:e,async:n}]))return;window.setTimeout(function(){"function"==typeof l&&l.apply(window,[{xmlDoc:d,filePath:e,async:n}]),null!=o&&("undefined"!=typeof o.postData?dhx4.ajax.postLong(o.url,o.postData,l):dhx4.ajax.getLong(o.url,l)),d=l=null},1)}}),"GET"==t&&(e+=this._dhxr(e)),d.open(t,e,n),null!=s)for(var a in s)d.setRequestHeader(a,s[a]);else"POST"==t||"PUT"==t||"DELETE"==t?d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):"GET"==t&&(i=null);return d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.send(i),1!=n&&(4==d.readyState||1==r&&3==d.readyState)&&(200==d.status&&""!=d.responseText||dhx4.callEvent("onAjaxError",[{xmlDoc:d,filePath:e,async:n}])),{xmlDoc:d,filePath:e,async:n}},_dhxr:function(t,e){return 1!=this.cache?(null==t.match(/^[\?\&]$/)&&(t=0<=t.indexOf("?")?"&":"?"),void 0===e&&(e=!0),t+"dhxr"+(new Date).getTime()+(1==e?"=1":"")):""}}),
"undefined"==typeof window.dhx4._enableDataLoading&&(window.dhx4._enableDataLoading=function(t,e,i,n,l){if("clear"==l){for(var o in t._dhxdataload)t._dhxdataload[o]=null,delete t._dhxdataload[o];return t._loadData=null,t._dhxdataload=null,t.load=null,t.loadStruct=null,void(t=null)}if(t._dhxdataload={initObj:e,xmlToJson:i,xmlRootTag:n,onBeforeXLS:null},t._loadData=function(i,t,n){2==arguments.length&&(n=t,t=null);var e=null;if(3==arguments.length&&(n=n),"string"==typeof i){var l=i.replace(/^\s{1,}/,"").replace(/\s{1,}$/,"");if(new RegExp("^<"+this._dhxdataload.xmlRootTag).test(l.replace(/^<\?xml[^\?]*\?>\s*/,""))&&null!=(e=dhx4.ajax.parse(i))&&(e=this[this._dhxdataload.xmlToJson].apply(this,[e])),null!=e||null==l.match(/^[\s\S]*{[.\s\S]*}[\s\S]*$/)&&null==l.match(/^[\s\S]*\[[.\s\S]*\][\s\S]*$/)||(e=dhx4.s2j(l)),null==e){this.callEvent("onXLS",[]);var o=[];if("function"==typeof this._dhxdataload.onBeforeXLS)if(null!=(l=this._dhxdataload.onBeforeXLS.apply(this,[i]))&&"object"==typeof l&&(null!=l.url&&(i=l.url),null!=l.params))for(var s in l.params)o.push(s+"="+encodeURIComponent(l.params[s]));var d=this,r=function(t){var e=null;null!=(e=0<=(t.xmlDoc.getResponseHeader("Content-Type")||"").search(/xml/gi)||null!=t.xmlDoc.responseText.replace(/^\s{1,}/,"").match(/^</)?d[d._dhxdataload.xmlToJson].apply(d,[t.xmlDoc.responseXML]):dhx4.s2j(t.xmlDoc.responseText))&&d[d._dhxdataload.initObj].apply(d,[e,i]),d.callEvent("onXLE",[]),null!=n&&("function"==typeof n?n.apply(d,[]):"function"==typeof window[n]&&window[n].apply(d,[])),r=n=null,e=t=d=null};return o=o.join("&")+("string"==typeof t?"&"+t:""),void("post"==dhx4.ajax.method?dhx4.ajax.post(i,o,r):"get"==dhx4.ajax.method&&dhx4.ajax.get(i+(0<o.length?(0<i.indexOf("?")?"&":"?")+o:""),r))}}else e="object"==typeof i.documentElement||"undefined"!=typeof i.tagName&&"undefined"!=typeof i.getElementsByTagName&&0<i.getElementsByTagName(this._dhxdataload.xmlRootTag).length?this[this._dhxdataload.xmlToJson].apply(this,[i]):window.dhx4._copyObj(i);null!=e&&this[this._dhxdataload.initObj].apply(this,[e]),null!=n&&("function"==typeof n?n.apply(this,[]):"function"==typeof window[n]&&window[n].apply(this,[]),n=null)},null!=l){var s={struct:"loadStruct",data:"load"};for(var o in l)1==l[o]&&(t[s[o]]=function(){return this._loadData.apply(this,arguments)})}t=null}),"undefined"==typeof window.dhx4._eventable&&(window.dhx4._eventable=function(t,e){if("clear"==e)return t.detachAllEvents(),t.dhxevs=null,t.attachEvent=null,t.detachEvent=null,t.checkEvent=null,t.callEvent=null,t.detachAllEvents=null,void(t=null);t.dhxevs={data:{}},t.attachEvent=function(t,e){t=String(t).toLowerCase(),this.dhxevs.data[t]||(this.dhxevs.data[t]={});var i=window.dhx4.newId();return this.dhxevs.data[t][i]=e,i},t.detachEvent=function(t){for(var e in this.dhxevs.data){var i=0;for(var n in this.dhxevs.data[e])n==t?(this.dhxevs.data[e][n]=null,delete this.dhxevs.data[e][n]):i++;0==i&&(this.dhxevs.data[e]=null,delete this.dhxevs.data[e])}},t.checkEvent=function(t){return t=String(t).toLowerCase(),null!=this.dhxevs.data[t]},t.callEvent=function(t,e){if(t=String(t).toLowerCase(),null==this.dhxevs.data[t])return!0;var i=!0;for(var n in this.dhxevs.data[t])i=this.dhxevs.data[t][n].apply(this,e)&&i;return i},t.detachAllEvents=function(){for(var t in this.dhxevs.data){for(var e in this.dhxevs.data[t])this.dhxevs.data[t][e]=null,delete this.dhxevs.data[t][e];this.dhxevs.data[t]=null,delete this.dhxevs.data[t]}},t=null},dhx4._eventable(dhx4)),window.dhtmlxValidation||(dhtmlxValidation=function(){},dhtmlxValidation.prototype={isEmpty:function(t){return""==t},isNotEmpty:function(t){return t instanceof Array?0<t.length:""==!t},isValidBoolean:function(t){return!!t.toString().match(/^(0|1|true|false)$/)},isValidEmail:function(t){return!!t.toString().match(/(^[a-z0-9]([0-9a-z\-_\.]*)@([0-9a-z_\-\.]*)([.][a-z]{3})$)|(^[a-z]([0-9a-z_\.\-]*)@([0-9a-z_\-\.]*)(\.[a-z]{2,5})$)/i)},isValidInteger:function(t){return!!t.toString().match(/(^-?\d+$)/)},isValidNumeric:function(t){return!!t.toString().match(/(^-?\d\d*[\.|,]\d*$)|(^-?\d\d*$)|(^-?[\.|,]\d\d*$)/)},isValidAplhaNumeric:function(t){return!!t.toString().match(/^[_\-a-z0-9]+$/gi)},isValidDatetime:function(t){var e=t.toString().match(/^(\d{4})-(\d{2})-(\d{2})\s(\d{2}):(\d{2}):(\d{2})$/);return e&&!!(e[1]<=9999&&e[2]<=12&&e[3]<=31&&e[4]<=59&&e[5]<=59&&e[6]<=59)||!1},isValidDate:function(t){var e=t.toString().match(/^(\d{4})-(\d{2})-(\d{2})$/);return e&&!!(e[1]<=9999&&e[2]<=12&&e[3]<=31)||!1},isValidTime:function(t){var e=t.toString().match(/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/);return e&&!!(e[1]<=24&&e[2]<=59&&e[3]<=59)||!1},isValidIPv4:function(t){var e=t.toString().match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/);return e&&!!(e[1]<=255&&e[2]<=255&&e[3]<=255&&e[4]<=255)||!1},isValidCurrency:function(t){return!!t.toString().match(/^\$?\s?\d+?([\.,\,]?\d+)?\s?\$?$/)},isValidSSN:function(t){return!!t.toString().match(/^\d{3}\-?\d{2}\-?\d{4}$/)},isValidSIN:function(t){return!!t.toString().match(/^\d{9}$/)}},dhtmlxValidation=new dhtmlxValidation),"undefined"==typeof window.dhtmlx&&(window.dhtmlx={extend:function(t,e){for(var i in e)t[i]||(t[i]=e[i]);return t},extend_api:function(t,n,e){var l=window[t];l&&(window[t]=function(t){if(t&&"object"==typeof t&&!t.tagName){var e=l.apply(this,n._init?n._init(t):arguments);for(var i in dhtmlx)n[i]&&this[n[i]](dhtmlx[i]);for(var i in t)n[i]?this[n[i]](t[i]):0===i.indexOf("on")&&this.attachEvent(i,t[i])}else e=l.apply(this,arguments);return n._patch&&n._patch(this),e||this},window[t].prototype=l.prototype,e&&dhtmlx.extend(window[t].prototype,e))},url:function(t){return-1!=t.indexOf("?")?"&":"?"}}),dhtmlDragAndDropObject.prototype.removeDraggableItem=function(t){t.onmousedown=null,t.dragStarter=null,t.dragLanding=null},dhtmlDragAndDropObject.prototype.addDraggableItem=function(t,e){t.onmousedown=this.preCreateDragCopy,t.dragStarter=e,this.addDragLanding(t,e)},dhtmlDragAndDropObject.prototype.addDragLanding=function(t,e){t.dragLanding=e},dhtmlDragAndDropObject.prototype.preCreateDragCopy=function(t){if(!t&&!window.event||2!=(t||event).button)return window.dhtmlDragAndDrop.waitDrag?(window.dhtmlDragAndDrop.waitDrag=0,document.body.onmouseup=window.dhtmlDragAndDrop.tempDOMU,document.body.onmousemove=window.dhtmlDragAndDrop.tempDOMM):(window.dhtmlDragAndDrop.dragNode&&window.dhtmlDragAndDrop.stopDrag(t),window.dhtmlDragAndDrop.waitDrag=1,window.dhtmlDragAndDrop.tempDOMU=document.body.onmouseup,window.dhtmlDragAndDrop.tempDOMM=document.body.onmousemove,window.dhtmlDragAndDrop.dragStartNode=this,window.dhtmlDragAndDrop.dragStartObject=this.dragStarter,document.body.onmouseup=window.dhtmlDragAndDrop.preCreateDragCopy,document.body.onmousemove=window.dhtmlDragAndDrop.callDrag,window.dhtmlDragAndDrop.downtime=(new Date).valueOf(),t&&t.preventDefault&&t.preventDefault()),!1},dhtmlDragAndDropObject.prototype.callDrag=function(t){if(t||(t=window.event),dragger=window.dhtmlDragAndDrop,!((new Date).valueOf()-dragger.downtime<100)){if(!dragger.dragNode){if(!dragger.waitDrag)return dragger.stopDrag(t,!0);if(dragger.dragNode=dragger.dragStartObject._createDragNode(dragger.dragStartNode,t),!dragger.dragNode)return dragger.stopDrag();dragger.dragNode.onselectstart=function(){return!1},dragger.gldragNode=dragger.dragNode,document.body.appendChild(dragger.dragNode),document.body.onmouseup=dragger.stopDrag,dragger.waitDrag=0,dragger.dragNode.pWindow=window,dragger.initFrameRoute()}if(dragger.dragNode.parentNode!=window.document.body&&dragger.gldragNode){var e=dragger.gldragNode;dragger.gldragNode.old&&(e=dragger.gldragNode.old),e.parentNode.removeChild(e);var i=dragger.dragNode.pWindow;if(e.pWindow&&e.pWindow.dhtmlDragAndDrop.lastLanding&&e.pWindow.dhtmlDragAndDrop.lastLanding.dragLanding._dragOut(e.pWindow.dhtmlDragAndDrop.lastLanding),_isIE){var n=document.createElement("Div");n.innerHTML=dragger.dragNode.outerHTML,dragger.dragNode=n.childNodes[0]}else dragger.dragNode=dragger.dragNode.cloneNode(!0);dragger.dragNode.pWindow=window,dragger.gldragNode.old=dragger.dragNode,document.body.appendChild(dragger.dragNode),i.dhtmlDragAndDrop.dragNode=dragger.dragNode}if(dragger.dragNode.style.left=t.clientX+15+(dragger.fx?-1*dragger.fx:0)+(document.body.scrollLeft||document.documentElement.scrollLeft)+"px",dragger.dragNode.style.top=t.clientY+3+(dragger.fy?-1*dragger.fy:0)+(document.body.scrollTop||document.documentElement.scrollTop)+"px",t.srcElement)l=t.srcElement;else var l=t.target;dragger.checkLanding(l,t)}},dhtmlDragAndDropObject.prototype.calculateFramePosition=function(t){if(window.name){for(var e=parent.frames[window.name].frameElement.offsetParent,i=0,n=0;e;)i+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;if(parent.dhtmlDragAndDrop){var l=parent.dhtmlDragAndDrop.calculateFramePosition(1);i+=1*l.split("_")[0],n+=1*l.split("_")[1]}if(t)return i+"_"+n;this.fx=i,this.fy=n}return"0_0"},dhtmlDragAndDropObject.prototype.checkLanding=function(t,e){t&&t.dragLanding?(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding),this.lastLanding=t,this.lastLanding=this.lastLanding.dragLanding._dragIn(this.lastLanding,this.dragStartNode,e.clientX,e.clientY,e),this.lastLanding_scr=_isIE?e.srcElement:e.target):t&&"BODY"!=t.tagName?this.checkLanding(t.parentNode,e):(this.lastLanding&&this.lastLanding.dragLanding._dragOut(this.lastLanding,e.clientX,e.clientY,e),this.lastLanding=0,this._onNotFound&&this._onNotFound())},dhtmlDragAndDropObject.prototype.stopDrag=function(t,e){if(dragger=window.dhtmlDragAndDrop,!e){dragger.stopFrameRoute();var i=dragger.lastLanding;dragger.lastLanding=null,i&&i.dragLanding._drag(dragger.dragStartNode,dragger.dragStartObject,i,_isIE?event.srcElement:t.target)}dragger.lastLanding=null,dragger.dragNode&&dragger.dragNode.parentNode==document.body&&dragger.dragNode.parentNode.removeChild(dragger.dragNode),dragger.dragNode=0,dragger.gldragNode=0,dragger.fx=0,dragger.fy=0,dragger.dragStartNode=0,dragger.dragStartObject=0,document.body.onmouseup=dragger.tempDOMU,document.body.onmousemove=dragger.tempDOMM,dragger.tempDOMU=null,dragger.tempDOMM=null,dragger.waitDrag=0},dhtmlDragAndDropObject.prototype.stopFrameRoute=function(t){t&&window.dhtmlDragAndDrop.stopDrag(1,1);for(var e=0;e<window.frames.length;e++)try{window.frames[e]!=t&&window.frames[e].dhtmlDragAndDrop&&window.frames[e].dhtmlDragAndDrop.stopFrameRoute(window)}catch(i){}try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=t&&parent.dhtmlDragAndDrop.stopFrameRoute(window)}catch(i){}},dhtmlDragAndDropObject.prototype.initFrameRoute=function(t,e){t&&(window.dhtmlDragAndDrop.preCreateDragCopy(),window.dhtmlDragAndDrop.dragStartNode=t.dhtmlDragAndDrop.dragStartNode,window.dhtmlDragAndDrop.dragStartObject=t.dhtmlDragAndDrop.dragStartObject,window.dhtmlDragAndDrop.dragNode=t.dhtmlDragAndDrop.dragNode,window.dhtmlDragAndDrop.gldragNode=t.dhtmlDragAndDrop.dragNode,window.document.body.onmouseup=window.dhtmlDragAndDrop.stopDrag,window.waitDrag=0,!_isIE&&e&&(!_isFF||_FFrv<1.8)&&window.dhtmlDragAndDrop.calculateFramePosition());try{parent.dhtmlDragAndDrop&&parent!=window&&parent!=t&&parent.dhtmlDragAndDrop.initFrameRoute(window)}catch(n){}for(var i=0;i<window.frames.length;i++)try{window.frames[i]!=t&&window.frames[i].dhtmlDragAndDrop&&window.frames[i].dhtmlDragAndDrop.initFrameRoute(window,!t||e?1:0)}catch(n){}},_isFF=!1,_isIE=!1,_isOpera=!1,_isKHTML=!1,_isMacOS=!1,_isChrome=!1,_FFrv=!1,_KHTMLrv=!1,_OperaRv=!1,-1!=navigator.userAgent.indexOf("Macintosh")&&(_isMacOS=!0),-1<navigator.userAgent.toLowerCase().indexOf("chrome")&&(_isChrome=!0),-1!=navigator.userAgent.indexOf("Safari")||-1!=navigator.userAgent.indexOf("Konqueror")?(_KHTMLrv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Safari")+7,5)),525<_KHTMLrv?(_isFF=!0,_FFrv=1.9):_isKHTML=!0):-1!=navigator.userAgent.indexOf("Opera")?(_isOpera=!0,_OperaRv=parseFloat(navigator.userAgent.substr(navigator.userAgent.indexOf("Opera")+6,3))):-1!=navigator.appName.indexOf("Microsoft")?(_isIE=!0,(-1!=navigator.appVersion.indexOf("MSIE 8.0")||-1!=navigator.appVersion.indexOf("MSIE 9.0")||-1!=navigator.appVersion.indexOf("MSIE 10.0")||7<document.documentMode)&&"BackCompat"!=document.compatMode&&(_isIE=8)):"Netscape"==navigator.appName&&-1!=navigator.userAgent.indexOf("Trident")?_isIE=8:(_isFF=!0,_FFrv=parseFloat(navigator.userAgent.split("rv:")[1])),window.dhtmlxEvent,null==dhtmlxEvent.touchDelay&&(dhtmlxEvent.touchDelay=2e3),"undefined"==typeof dhtmlxEvent.initTouch&&(dhtmlxEvent.initTouch=function(){function e(){if(n){var t=document.createEvent("HTMLEvents");t.initEvent("dblclick",!0,!0),n.dispatchEvent(t),i=n=null}}var i,n,l,o;dhtmlxEvent(document.body,"touchstart",function(t){n=t.touches[0].target,l=t.touches[0].clientX,o=t.touches[0].clientY,i=window.setTimeout(e,dhtmlxEvent.touchDelay)}),dhtmlxEvent(document.body,"touchmove",function(t){i&&(50<Math.abs(t.touches[0].clientX-l)||50<Math.abs(t.touches[0].clientY-o))&&(window.clearTimeout(i),i=n=!1)}),dhtmlxEvent(document.body,"touchend",function(){i&&(window.clearTimeout(i),i=n=!1)}),dhtmlxEvent.initTouch=function(){}}),dhtmlXMenuObject.prototype._init=function(){1!=this._isInited&&(this.conf.dload?(this._dhxdataload.onBeforeXLS=function(){var t={params:{}};for(var e in this.conf.dload_params)t.params[e]=this.conf.dload_params[e];return t},this.loadStruct(this.conf.dload_url)):(this._initTopLevelMenu(),this._isInited=!0))},dhtmlXMenuObject.prototype._countVisiblePolygonItems=function(t){var e=0;for(var i in this.itemPull){var n=this.itemPull[i].parent,l=this.itemPull[i].type;null!=this.idPull[i]&&(n!=t||"item"!=l&&"radio"!=l&&"checkbox"!=l||"none"==this.idPull[i].style.display||e++)}return e},dhtmlXMenuObject.prototype._redefineComplexState=function(t){if(this.idPrefix+this.topId!=t&&null!=this.idPull["polygon_"+t]&&null!=this.idPull[t]){var e=this._countVisiblePolygonItems(t);0<e&&!this.itemPull[t].complex&&this._updateItemComplexState(t,!0,!1),0==e&&this.itemPull[t].complex&&this._updateItemComplexState(t,!1,!1)}},dhtmlXMenuObject.prototype._updateItemComplexState=function(t,e){if(this.conf.context||"TopLevel"!=this._getItemLevelType(t.replace(this.idPrefix,""))){if(null!=this.idPull[t]&&null!=this.itemPull[t]&&(this.itemPull[t].complex=e,t!=this.idPrefix+this.topId)){var i=null,n=this.idPull[t].childNodes[this.conf.rtl?0:2];if(n.childNodes[0]&&0===String(n.childNodes[0].className).search("complex_arrow")&&(i=n.childNodes[0]),this.itemPull[t].complex){if(null==i){for((i=document.createElement("DIV")).className="complex_arrow",i.id="arrow_"+t;0<n.childNodes.length;)n.removeChild(n.childNodes[0]);n.appendChild(i)}this.conf.dload&&"get"==this.itemPull[t].loaded&&this.conf.dload_icon?"complex_arrow_loading"!=i.className&&(i.className="complex_arrow_loading"):i.className="complex_arrow"}else this.itemPull[t].complex||null==i||(n.removeChild(i),null!=this.itemPull[t].hotkey_backup&&this.setHotKey&&this.setHotKey(t.replace(this.idPrefix,""),this.itemPull[t].hotkey_backup))}}else this.itemPull[t].complex=e},dhtmlXMenuObject.prototype._getItemLevelType=function(t){return this.itemPull[this.idPrefix+t].parent==this.idPrefix+this.topId?"TopLevel":"SubLevelArea"},dhtmlXMenuObject.prototype.setIconsPath=function(t){this.conf.icons_path=t},dhtmlXMenuObject.prototype._updateItemImage=function(t){t=this.idPrefix+t;var e=this.itemPull[t].type;if("checkbox"!=e&&"radio"!=e){var i=this.itemPull[t].parent==this.idPrefix+this.topId&&!this.conf.context,n=null;if(i)for(var l=0;l<this.idPull[t].childNodes.length;l++)(null==n&&"dhtmlxMenu_TopLevel_Item_Icon"==(this.idPull[t].childNodes[l].className||"")||"i"==(this.idPull[t].childNodes[l].tagName||"").toLowerCase())&&(n=this.idPull[t].childNodes[l]);else{try{n=this.idPull[t].childNodes[this.conf.rtl?2:0].childNodes[0]}catch(r){}(null==n||"undefined"==typeof n.className||"sub_icon"!=n.className&&"i"!=n.tagName.toLowerCase())&&(n=null)}var o=this.itemPull[t]["enabled"==this.itemPull[t].state?"imgen":"imgdis"];if(0<o.length)if(null!=n)1==this.conf.icons_css?n.className=this.conf.icons_path+o:n.src=this.conf.icons_path+o;else if(i){if(1==this.conf.icons_css)(n=document.createElement("i")).className=this.conf.icons_path+o;else(n=document.createElement("IMG")).className="dhtmlxMenu_TopLevel_Item_Icon",n.src=this.conf.icons_path+o,n.border="0",n.id="image_"+t;!this.conf.rtl&&0<this.idPull[t].childNodes.length?this.idPull[t].insertBefore(n,this.idPull[t].childNodes[0]):this.idPull[t].appendChild(n)}else if(1==this.conf.icons_css){(s=this.idPull[t].childNodes[this.conf.rtl?2:0]).innerHTML="<i class='"+this.conf.icons_path+o+"'></i>"}else{(n=document.createElement("IMG")).className="sub_icon",n.src=this.conf.icons_path+o,n.border="0",n.id="image_"+t;for(var s=this.idPull[t].childNodes[this.conf.rtl?2:0];0<s.childNodes.length;)s.removeChild(s.childNodes[0]);s.appendChild(n)}else if(null!=n)if(i)n.parentNode.removeChild(n),n=null;else{var d=n.parentNode;d.removeChild(n),d.innerHTML="&nbsp;",d=n=null}}},dhtmlXMenuObject.prototype._getAllParents=function(t){var e=new Array;for(var i in this.itemPull)if(this.itemPull[i].parent==t&&(e[e.length]=this.itemPull[i].id,this.itemPull[i].complex))for(var n=this._getAllParents(this.itemPull[i].id),l=0;l<n.length;l++)e[e.length]=n[l];return e},dhtmlXMenuObject.prototype._autoDetectVisibleArea=function(){if(!this.conf.v_enabled){var t=window.dhx4.screenDim();this.conf.v.x1=t.left,this.conf.v.x2=t.right,this.conf.v.y1=t.top,this.conf.v.y2=t.bottom}},dhtmlXMenuObject.prototype.getItemPosition=function(t){t=this.idPrefix+t;var e=-1;if(null==this.itemPull[t])return e;for(var i=this.itemPull[t].parent,n=null!=this.idPull["polygon_"+i]?this.idPull["polygon_"+i].tbd:this.cont,l=0;l<n.childNodes.length;l++)n.childNodes[l]!=this.idPull["separator_"+t]&&n.childNodes[l]!=this.idPull[t]||(e=l);return e},dhtmlXMenuObject.prototype.setItemPosition=function(t,e){if(t=this.idPrefix+t,null!=this.idPull[t]){var i=this.itemPull[t].parent==this.idPrefix+this.topId,n=this.idPull[t],l=this.getItemPosition(t.replace(this.idPrefix,"")),o=this.itemPull[t].parent,s=null!=this.idPull["polygon_"+o]?this.idPull["polygon_"+o].tbd:this.cont;s.removeChild(s.childNodes[l]),e<0&&(e=0),i&&e<1&&(e=1),e<s.childNodes.length?s.insertBefore(n,s.childNodes[e]):s.appendChild(n)}},dhtmlXMenuObject.prototype.getParentId=function(t){return t=this.idPrefix+t,null==this.itemPull[t]?null:(null!=this.itemPull[t].parent?this.itemPull[t].parent:this.topId).replace(this.idPrefix,"")},dhtmlXMenuObject.prototype.hide=function(){this._clearAndHide()},dhtmlXMenuObject.prototype.clearAll=function(){this.removeItem(this.idPrefix+this.topId,!0),this._isInited=!1,this.idPrefix=this._genStr(12)+"_",this.itemPull={}},"undefined"==typeof dhtmlXMenuObject.prototype.liveInst&&(dhtmlXMenuObject.prototype.liveInst={}),dhtmlXMenuObject.prototype.setIconset=function(t){this.conf.icons_css="awesome"==t},dhtmlXMenuObject.prototype._redistribTopLevelSelection=function(t){var e=this._getSubItemToDeselectByPolygon("parent");this._removeSubItemFromSelected(-1,-1);for(var i=0;i<e.length;i++)e[i]!=t&&this._hidePolygon(e[i]),null!=this.idPull[e[i]]&&e[i]!=t&&(this.idPull[e[i]].className=this.idPull[e[i]].className.replace(/Selected/g,"Normal"));"enabled"==this.itemPull[this.idPrefix+t].state&&(this.idPull[this.idPrefix+t].className="dhtmlxMenu_"+this.conf.skin+"_TopLevel_Item_Selected",this._addSubItemToSelected(this.idPrefix+t,"parent"),this.conf.selected="win"==this.conf.mode?-1!=this.conf.selected?t:this.conf.selected:t,this.itemPull[this.idPrefix+t].complex&&-1!=this.conf.selected&&this._showPolygon(this.idPrefix+t,this.conf.dir_toplv))},dhtmlXMenuObject.prototype._initTopLevelMenu=function(){if(this.conf.dir_toplv="bottom",this.conf.dir_sublv=this.conf.rtl?"left":"right",this.conf.context)this.idPull[this.idPrefix+this.topId]=new Array(0,0),this._addSubMenuPolygon(this.idPrefix+this.topId,this.idPrefix+this.topId);else for(var t=this._getMenuNodes(this.idPrefix+this.topId),e=0;e<t.length;e++)"item"==this.itemPull[t[e]].type&&this._renderToplevelItem(t[e],null),"separator"==this.itemPull[t[e]].type&&this._renderSeparator(t[e],null)},dhtmlXMenuObject.prototype._renderToplevelItem=function(t,e){var o=this,i=document.createElement("DIV");if(i.id=t,"enabled"==this.itemPull[t].state&&null!=this.itemPull[t].cssNormal?i.className=this.itemPull[t].cssNormal:i.className="dhtmlxMenu_"+this.conf.skin+"_TopLevel_Item_"+("enabled"==this.itemPull[t].state?"Normal":"Disabled"),""!=this.itemPull[t].title){var n=document.createElement("DIV");n.className="top_level_text",n.innerHTML=this.itemPull[t].title,i.appendChild(n)}if(0<this.itemPull[t].tip.length&&(i.title=this.itemPull[t].tip),""!=this.itemPull[t].imgen||""!=this.itemPull[t].imgdis){var l=this.itemPull[t]["enabled"==this.itemPull[t].state?"imgen":"imgdis"];if(l)if(1==this.conf.icons_css){var s=document.createElement("i");s.className=this.conf.icons_path+l,0<i.childNodes.length&&!this.conf.rtl?i.insertBefore(s,i.childNodes[0]):i.appendChild(s)}else{var d=document.createElement("IMG");d.border="0",d.id="image_"+t,d.src=this.conf.icons_path+l,d.className="dhtmlxMenu_TopLevel_Item_Icon",0<i.childNodes.length&&!this.conf.rtl?i.insertBefore(d,i.childNodes[0]):i.appendChild(d)}}i.onselectstart=function(t){return(t=t||event).preventDefault?t.preventDefault():t.returnValue=!1,!1},i.oncontextmenu=function(t){return(t=t||event).preventDefault?t.preventDefault():t.returnValue=!1,!1},this.cont||(this.cont=document.createElement("DIV"),this.cont.dir="ltr",this.cont.className="right"==this.conf.align?"align_right":"align_left",this.base.appendChild(this.cont)),null!=e&&(++e<0&&(e=0),e>this.cont.childNodes.length-1&&(e=null)),null!=e?this.cont.insertBefore(i,this.cont.childNodes[e]):this.cont.appendChild(i),this.idPull[i.id]=i,this.itemPull[t].complex&&!this.conf.dload&&this._addSubMenuPolygon(this.itemPull[t].id,this.itemPull[t].id),i.onmouseover=function(){"web"==o.conf.mode&&window.clearTimeout(o.conf.tm_handler);var t=o._getSubItemToDeselectByPolygon("parent");o._removeSubItemFromSelected(-1,-1);for(var e=0;e<t.length;e++)t[e]!=this.id&&o._hidePolygon(t[e]),null!=o.idPull[t[e]]&&t[e]!=this.id&&(null!=o.itemPull[t[e]].cssNormal?o.idPull[t[e]].className=o.itemPull[t[e]].cssNormal:("sub_item_selected"==o.idPull[t[e]].className&&(o.idPull[t[e]].className="sub_item"),o.idPull[t[e]].className=o.idPull[t[e]].className.replace(/Selected/g,"Normal")));if("enabled"==o.itemPull[this.id].state){if(this.className="dhtmlxMenu_"+o.conf.skin+"_TopLevel_Item_Selected",o._addSubItemToSelected(this.id,"parent"),o.conf.selected="win"==o.conf.mode?-1!=o.conf.selected?this.id:o.conf.selected:this.id,o.conf.dload){if("no"==o.itemPull[this.id].loaded){this._dynLoadTM=(new Date).getTime(),o.itemPull[this.id].loaded="get";var i=this.id.replace(o.idPrefix,"");o._dhxdataload.onBeforeXLS=function(){var t={params:{}};for(var e in t.params[this.conf.dload_pid]=i,this.conf.dload_params)t.params[e]=this.conf.dload_params[e];return t},o.loadStruct(o.conf.dload_url)}o.conf.top_mode&&"web"==o.conf.mode&&!o.conf.context&&(this._mouseOver=!0)}if((!o.conf.dload||o.conf.dload&&(!o.itemPull[this.id].loaded||"yes"==o.itemPull[this.id].loaded))&&o.itemPull[this.id].complex&&-1!=o.conf.selected)if(o.conf.top_mode&&"web"==o.conf.mode&&!o.conf.context){this._mouseOver=!0;var n=this.id;this._menuOpenTM=window.setTimeout(function(){o._showPolygon(n,o.conf.dir_toplv)},o.conf.top_tmtime)}else o._showPolygon(this.id,o.conf.dir_toplv)}o._doOnTouchMenu(this.id.replace(o.idPrefix,""))},i.onmouseout=function(){o.itemPull[this.id].complex&&-1!=o.conf.selected||"enabled"!=o.itemPull[this.id].state||(null!=o.itemPull[this.id].cssNormal?i.className=o.itemPull[this.id].cssNormal:i.className="dhtmlxMenu_"+o.conf.skin+"_TopLevel_Item_Normal"),"web"==o.conf.mode&&(window.clearTimeout(o.conf.tm_handler),o.conf.tm_handler=window.setTimeout(function(){o._clearAndHide()},o.conf.tm_sec,"JavaScript")),o.conf.top_mode&&"web"==o.conf.mode&&!o.conf.context&&(this._mouseOver=!1,window.clearTimeout(this._menuOpenTM))},i.onclick=function(t){if("web"==o.conf.mode&&window.clearTimeout(o.conf.tm_handler),"web"==o.conf.mode||"disabled"!=o.itemPull[this.id].state){if((t=t||event).cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,"win"==o.conf.mode&&o.itemPull[this.id].complex){if(o.conf.selected==this.id)var e=!(o.conf.selected=-1);else{o.conf.selected=this.id;e=!0}e?o._showPolygon(this.id,o.conf.dir_toplv):o._hidePolygon(this.id)}var i=o.itemPull[this.id].complex?"c":"-",n="enabled"!=o.itemPull[this.id].state?"d":"-",l={ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey};return o._doOnClick(this.id.replace(o.idPrefix,""),i+n+"t",l),!1}},"dhx_terrace"==this.conf.skin&&this._improveTerraceSkin()},dhtmlXMenuObject.prototype._addSubMenuPolygon=function(t,e){this._renderSublevelPolygon(t,e);var i=this._getMenuNodes(e);for(n=0;n<i.length;n++)"separator"==this.itemPull[i[n]].type?this._renderSeparator(i[n],null):this._renderSublevelItem(i[n],null);if(t==e);else;for(var n=0;n<i.length;n++)this.itemPull[i[n]].complex&&this._addSubMenuPolygon(t,this.itemPull[i[n]].id)},dhtmlXMenuObject.prototype._renderSublevelPolygon=function(t,e){var i=document.createElement("DIV");i.className="dhtmlxMenu_"+this.conf.skin+"_SubLevelArea_Polygon "+(this.conf.rtl?"dir_right":""),i.dir="ltr",i.oncontextmenu=function(t){return(t=t||event).preventDefault?t.preventDefault():t.returnValue=!1,!(t.cancelBubble=!0)},i.id="polygon_"+e,i.onclick=function(t){(t=t||event).cancelBubble=!0},i.style.display="none",document.body.insertBefore(i,document.body.firstChild),i.innerHTML='<div style="position:relative;"></div><div style="position: relative; overflow:hidden;"></div><div style="position:relative;"></div>';var n=document.createElement("TABLE");n.className="dhtmlxMebu_SubLevelArea_Tbl",n.cellSpacing=0,n.cellPadding=0,n.border=0;var l=document.createElement("TBODY");return n.appendChild(l),i.childNodes[1].appendChild(n),i.tbl=n,i.tbd=l,this.idPull[i.id]=i,null!=this.sxDacProc&&(this.idPull["sxDac_"+e]=new this.sxDacProc(i,i.className),window.dhx4.isIE?(this.idPull["sxDac_"+e]._setSpeed(this.dacSpeedIE),this.idPull["sxDac_"+e]._setCustomCycle(this.dacCyclesIE)):(this.idPull["sxDac_"+e]._setSpeed(this.dacSpeed),this.idPull["sxDac_"+e]._setCustomCycle(this.dacCycles))),i},dhtmlXMenuObject.prototype._renderSublevelItem=function(t,e){var i=this,n=document.createElement("TR");n.className="enabled"==this.itemPull[t].state?"sub_item":"sub_item_dis";var l=document.createElement("TD");l.className="sub_item_icon";var o=this.itemPull[t].type,s=this.itemPull[t]["enabled"==this.itemPull[t].state?"imgen":"imgdis"];if(""!=s){var d;if("checkbox"==o||"radio"==o)(d=document.createElement("DIV")).id="image_"+this.itemPull[t].id,d.className="sub_icon "+s,l.appendChild(d);if("checkbox"!=o&&"radio"!=o)if(1==this.conf.icons_css)l.innerHTML="<i class='"+this.conf.icons_path+s+"'></i>";else(d=document.createElement("IMG")).id="image_"+this.itemPull[t].id,d.className="sub_icon",d.src=this.conf.icons_path+s,l.appendChild(d)}else l.innerHTML="&nbsp;";var r=document.createElement("TD");if(r.className="sub_item_text",""!=this.itemPull[t].title){var a=document.createElement("DIV");a.className="sub_item_text",a.innerHTML=this.itemPull[t].title,r.appendChild(a)}else r.innerHTML="&nbsp;";var h=document.createElement("TD");if(h.className="sub_item_hk",this.itemPull[t].complex){var u=document.createElement("DIV");u.className="complex_arrow",u.id="arrow_"+this.itemPull[t].id,h.appendChild(u)}else if(0<this.itemPull[t].hotkey.length&&!this.itemPull[t].complex){var c=document.createElement("DIV");c.className="sub_item_hk",c.innerHTML=this.itemPull[t].hotkey,h.appendChild(c)}else h.innerHTML="&nbsp;";n.appendChild(this.conf.rtl?h:l),n.appendChild(r),n.appendChild(this.conf.rtl?l:h),n.id=this.itemPull[t].id,n.parent=this.itemPull[t].parent,0<this.itemPull[t].tip.length&&(n.title=this.itemPull[t].tip),n.onselectstart=function(t){return(t=t||event).preventDefault?t.preventDefault():t.returnValue=!1,!1},n.onmouseover=function(){i.conf.hide_tm[this.id]&&window.clearTimeout(i.conf.hide_tm[this.id]),"web"==i.conf.mode&&window.clearTimeout(i.conf.tm_handler),this._visible||i._redistribSubLevelSelection(this.id,this.parent),this._visible=!0},n.onmouseout=function(){"web"==i.conf.mode&&(i.conf.tm_handler&&window.clearTimeout(i.conf.tm_handler),i.conf.tm_handler=window.setTimeout(function(){i&&i._clearAndHide&&i._clearAndHide()},i.conf.tm_sec,"JavaScript"));var t=this;i.conf.hide_tm[this.id]&&window.clearTimeout(i.conf.hide_tm[this.id]),i.conf.hide_tm[this.id]=window.setTimeout(function(){t._visible=!1},50)},n.onclick=function(t){if(i.checkEvent("onClick")||!i.itemPull[this.id].complex){(t=t||event).cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,tc=i.itemPull[this.id].complex?"c":"-",td="enabled"==i.itemPull[this.id].state?"-":"d";var e={ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey};switch(i.itemPull[this.id].type){case"checkbox":i._checkboxOnClickHandler(this.id.replace(i.idPrefix,""),tc+td+"n",e);break;case"radio":i._radioOnClickHandler(this.id.replace(i.idPrefix,""),tc+td+"n",e);break;case"item":i._doOnClick(this.id.replace(i.idPrefix,""),tc+td+"n",e)}return!1}};var m=this.idPull["polygon_"+this.itemPull[t].parent];null!=e&&(++e<0&&(e=0),e>m.tbd.childNodes.length-1&&(e=null)),null!=e&&null!=m.tbd.childNodes[e]?m.tbd.insertBefore(n,m.tbd.childNodes[e]):m.tbd.appendChild(n),this.idPull[n.id]=n},dhtmlXMenuObject.prototype._renderSeparator=function(t,e){var i=this.conf.context?"SubLevelArea":this.itemPull[t].parent==this.idPrefix+this.topId?"TopLevel":"SubLevelArea";if("TopLevel"!=i||!this.conf.context){var n=this;if("TopLevel"!=i){var l=document.createElement("TR");l.className="sub_sep";var o=document.createElement("TD");o.colSpan="3",l.appendChild(o)}var s=document.createElement("DIV");if(s.id="separator_"+t,s.className="TopLevel"==i?"top_sep":"sub_sep",s.onselectstart=function(t){(t=t||event).preventDefault?t.preventDefault():t.returnValue=!1},s.onclick=function(t){(t=t||event).cancelBubble=!0;var e={ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey};n._doOnClick(this.id.replace("separator_"+n.idPrefix,""),"--s",e)},"TopLevel"==i){if(null!=e)++e<0&&(e=0),null!=this.cont.childNodes[e]?this.cont.insertBefore(s,this.cont.childNodes[e]):this.cont.appendChild(s);else{var d=this.cont.childNodes[this.cont.childNodes.length-1];-1==String(d).search("TopLevel_Text")?this.cont.appendChild(s):this.cont.insertBefore(s,d)}this.idPull[s.id]=s}else{var r=this.idPull["polygon_"+this.itemPull[t].parent];null!=e&&(++e<0&&(e=0),e>r.tbd.childNodes.length-1&&(e=null)),null!=e&&null!=r.tbd.childNodes[e]?r.tbd.insertBefore(l,r.tbd.childNodes[e]):r.tbd.appendChild(l),o.appendChild(s),this.idPull[s.id]=l}}},dhtmlXMenuObject.prototype.addNewSeparator=function(t,e){e=this.idPrefix+(null!=e?e:this._genStr(24));var i=this.idPrefix+this.getParentId(t);this._addItemIntoGlobalStrorage(e,i,"","separator",!1,"",""),this._renderSeparator(e,this.getItemPosition(t))},dhtmlXMenuObject.prototype._initObj=function(t,e,i){t instanceof Array||(null!=(i=t.parentId)&&0!==String(i).indexOf(this.idPrefix)&&(i=this.idPrefix+String(i)),t=t.items);for(var n=0;n<t.length;n++){"undefined"!=typeof t[n].id&&null!=t[n].id||(t[n].id=this._genStr(24)),null==t[n].text&&(t[n].text=""),0!==String(t[n].id).indexOf(this.idPrefix)&&(t[n].id=this.idPrefix+String(t[n].id));var l={type:"item",tip:"",hotkey:"",state:"enabled",imgen:"",imgdis:""};for(var o in l)"undefined"==typeof t[n][o]&&(t[n][o]=l[o]);if(""==t[n].imgen&&null!=t[n].img&&(t[n].imgen=t[n].img),""==t[n].imgdis&&null!=t[n].img_disabled&&(t[n].imgdis=t[n].img_disabled),null==t[n].title&&null!=t[n].text&&(t[n].title=t[n].text),null!=t[n].href&&(null!=t[n].href.link&&(t[n].href_link=t[n].href.link),null!=t[n].href.target&&(t[n].href_target=t[n].href.target)),null!=t[n].userdata)for(var o in t[n].userdata)this.userData[t[n].id+"_"+o]=t[n].userdata[o];"undefined"!=typeof t[n].enabled&&0==window.dhx4.s2b(t[n].enabled)?t[n].state="disabled":"undefined"!=typeof t[n].disabled&&1==window.dhx4.s2b(t[n].disabled)&&(t[n].state="disabled"),"undefined"==typeof t[n].parent&&(t[n].parent=null!=i?i:this.idPrefix+this.topId),"checkbox"==t[n].type&&(t[n].checked=window.dhx4.s2b(t[n].checked),t[n].imgen=t[n].imgdis="chbx_"+(t[n].checked?"1":"0")),"radio"==t[n].type&&(t[n].checked=window.dhx4.s2b(t[n].checked),t[n].imgen=t[n].imgdis="rdbt_"+(t[n].checked?"1":"0"),"undefined"!=typeof t[n].group&&null!=t[n].group||(t[n].group=this._genStr(24)),null==this.radio[t[n].group]&&(this.radio[t[n].group]=[]),this.radio[t[n].group].push(t[n].id)),this.itemPull[t[n].id]=t[n],null!=t[n].items&&0<t[n].items.length?(this.itemPull[t[n].id].complex=!0,this._initObj(t[n].items,!0,t[n].id)
):this.conf.dload&&1==t[n].complex&&(this.itemPull[t[n].id].loaded="no"),this.itemPull[t[n].id].items=null}if(!0!==e)if(1==this.conf.dload)if(null==i)this._initTopLevelMenu();else{if(this._addSubMenuPolygon(i,i),this.conf.selected==i){var s=this.itemPull[i].parent==this.idPrefix+this.topId,d=s&&!this.conf.context?this.conf.dir_toplv:this.conf.dir_sublv,r=!1;if(s&&this.conf.top_mode&&"web"==this.conf.mode&&!this.conf.context){var a=this.idPull[i];if(1==a._mouseOver){var h=this.conf.top_tmtime-((new Date).getTime()-a._dynLoadTM);if(1<h){var u=i,c=this;a._menuOpenTM=window.setTimeout(function(){c._showPolygon(u,d),c=u=null},h),r=!0}}}r||this._showPolygon(i,d)}this.itemPull[i].loaded="yes",1==this.conf.dload_icon&&this._updateLoaderIcon(i,!1)}else this._init()},dhtmlXMenuObject.prototype._xmlToJson=function(t,e){var i=[];if(null==e){var n=t.getElementsByTagName(this.conf.tags.root);if(null==n||null!=n&&0==n.length)return{items:[]};n=n[0]}else n=t;null!=n.getAttribute("parentId")&&(e=this.idPrefix+n.getAttribute("parentId"));for(var l=0;l<n.childNodes.length;l++)if("undefined"!=typeof n.childNodes[l].tagName&&String(n.childNodes[l].tagName).toLowerCase()==this.conf.tags.item){var o=n.childNodes[l],s={id:this.idPrefix+(o.getAttribute("id")||this._genStr(24)),title:o.getAttribute("text")||"",imgen:o.getAttribute("img")||"",imgdis:o.getAttribute("imgdis")||"",tip:"",hotkey:"",type:o.getAttribute("type")||"item"};if(null!=o.getAttribute("cssNormal")&&(s.cssNormal=o.getAttribute("cssNormal")),"checkbox"==s.type&&(s.checked=o.getAttribute("checked")),"radio"==s.type&&(s.checked=o.getAttribute("checked"),s.group=o.getAttribute("group")),s.state="enabled",null!=o.getAttribute("enabled")&&0==window.dhx4.s2b(o.getAttribute("enabled"))?s.state="disabled":null!=o.getAttribute("disabled")&&1==window.dhx4.s2b(o.getAttribute("disabled"))&&(s.state="disabled"),s.parent=null!=e?e:this.idPrefix+this.topId,this.conf.dload)s.complex=null!=o.getAttribute("complex"),s.complex&&(s.loaded="no");else{var d=this._xmlToJson(o,s.id);s.items=d.items,s.complex=0<s.items.length}for(var r=0;r<o.childNodes.length;r++)if("undefined"!=typeof o.childNodes[r].tagName){var a=String(o.childNodes[r].tagName||"").toLowerCase();if(a==this.conf.tags.userdata){var h=o.childNodes[r];null!=h.getAttribute("name")&&(this.userData[s.id+"_"+h.getAttribute("name")]=null!=h.firstChild&&null!=h.firstChild.nodeValue?h.firstChild.nodeValue:"")}a==this.conf.tags.text_ext&&(s.title=o.childNodes[r].firstChild.nodeValue),a==this.conf.tags.tooltip&&(s.tip=o.childNodes[r].firstChild.nodeValue),a==this.conf.tags.hotkey&&(s.hotkey=o.childNodes[r].firstChild.nodeValue),a==this.conf.tags.href&&"item"==s.type&&(s.href_link=o.childNodes[r].firstChild.nodeValue,null!=o.childNodes[r].getAttribute("target")&&(s.href_target=o.childNodes[r].getAttribute("target")))}i.push(s)}return o={parentId:e,items:i}},dhtmlXMenuObject.prototype.enableDynamicLoading=function(t,e){this.conf.dload=!0,this.conf.dload_url=t,this.conf.dload_sign=-1==String(this.conf.dload_url).search(/\?/)?"?":"&",this.conf.dload_icon=e,this._init()},dhtmlXMenuObject.prototype._updateLoaderIcon=function(t,e){if(null!=this.idPull[t]&&!(0<=String(this.idPull[t].className).search("TopLevel_Item"))){var i=this.conf.rtl?0:2;if(this.idPull[t].childNodes[i]&&this.idPull[t].childNodes[i].childNodes[0]){var n=this.idPull[t].childNodes[i].childNodes[0];0===String(n.className).search("complex_arrow")&&(n.className="complex_arrow"+(e?"_loading":""))}}},dhtmlXMenuObject.prototype.addNewSibling=function(t,e,i,n,l,o){var s=this.idPrefix+(null!=e?e:this._genStr(24)),d=this.idPrefix+(null!=t?this.getParentId(t):this.topId);this._addItemIntoGlobalStrorage(s,d,i,"item",n,l,o),d!=this.idPrefix+this.topId||this.conf.context?this._renderSublevelItem(s,this.getItemPosition(t)):this._renderToplevelItem(s,this.getItemPosition(t))},dhtmlXMenuObject.prototype.addNewChild=function(t,e,i,n,l,o,s){if(null==t){if(!this.conf.context)return this.addNewSibling(t,i,n,l,o,s),void(null!=e&&this.setItemPosition(i,e));t=this.topId}i=this.idPrefix+(null!=i?i:this._genStr(24)),this.setHotKey&&this.setHotKey(t,""),t=this.idPrefix+t,this._addItemIntoGlobalStrorage(i,t,n,"item",l,o,s),null==this.idPull["polygon_"+t]&&this._renderSublevelPolygon(t,t),this._renderSublevelItem(i,e-1),this._redefineComplexState(t)},dhtmlXMenuObject.prototype.removeItem=function(t,e,i){e||(t=this.idPrefix+t);var n=null;if(t!=this.idPrefix+this.topId){if(null==this.itemPull[t])return;this.idPull["polygon_"+t]&&this.idPull["polygon_"+t]._tmShow&&window.clearTimeout(this.idPull["polygon_"+t]._tmShow);var l=this.itemPull[t].type;if("separator"==l){var o=this.idPull["separator_"+t];this.itemPull[t].parent==this.idPrefix+this.topId?(o.onclick=null,o.onselectstart=null,o.id=null):(o.childNodes[0].childNodes[0].onclick=null,o.childNodes[0].childNodes[0].onselectstart=null,o.childNodes[0].childNodes[0].id=null,o.childNodes[0].removeChild(o.childNodes[0].childNodes[0]),o.removeChild(o.childNodes[0])),o.parentNode.removeChild(o),this.idPull["separator_"+t]=null,this.itemPull[t]=null,delete this.idPull["separator_"+t],delete this.itemPull[t],o=null}else{for(n=this.itemPull[t].parent,(o=this.idPull[t]).onclick=null,o.oncontextmenu=null,o.onmouseover=null,o.onmouseout=null,o.onselectstart=null,o.id=null;0<o.childNodes.length;)o.removeChild(o.childNodes[0]);o.parentNode.removeChild(o),this.idPull[t]=null,this.itemPull[t]=null,delete this.idPull[t],delete this.itemPull[t],o=null}l=null}for(var s in this.itemPull)this.itemPull[s].parent==t&&this.removeItem(s,!0,!0);var d=new Array(t);null==n||i||null!=this.idPull["polygon_"+n]&&0==this.idPull["polygon_"+n].tbd.childNodes.length&&(d.push(n),this._updateItemComplexState(n,!1,!1));for(var r=0;r<d.length;r++)if(this.idPull["polygon_"+d[r]]){var a=this.idPull["polygon_"+d[r]];if(a.onclick=null,a.oncontextmenu=null,a.tbl.removeChild(a.tbd),a.tbd=null,a.childNodes[1].removeChild(a.tbl),a.tbl=null,a.id=null,a.parentNode.removeChild(a),a=null,window.dhx4.isIE6){var h="polygon_"+d[r]+"_ie6cover";null!=this.idPull[h]&&(document.body.removeChild(this.idPull[h]),delete this.idPull[h])}null!=this.idPull["arrowup_"+t]&&this._removeArrow&&this._removeArrow("arrowup_"+t),null!=this.idPull["arrowdown_"+t]&&this._removeArrow&&this._removeArrow("arrowdown_"+t),this.idPull["polygon_"+d[r]]=null,delete this.idPull["polygon_"+d[r]]}d=null,"dhx_terrace"==this.conf.skin&&1==arguments.length&&this._improveTerraceSkin()},dhtmlXMenuObject.prototype._addItemIntoGlobalStrorage=function(t,e,i,n,l,o,s){var d={id:t,title:i,imgen:null!=o?o:"",imgdis:null!=s?s:"",type:n,state:1==l?"disabled":"enabled",parent:e,complex:!1,hotkey:"",tip:""};this.itemPull[d.id]=d},dhtmlXMenuObject.prototype.renderAsContextMenu=function(){this.conf.context=!0,1==this.base._autoSkinUpdate&&(this.base.className=this.base.className.replace("dhtmlxMenu_"+this.conf.skin+"_Middle",""),this.base._autoSkinUpdate=!1),null!=this.conf.ctx_baseid&&this.addContextZone(this.conf.ctx_baseid)},dhtmlXMenuObject.prototype.addContextZone=function(t){if(t==document.body){t="document.body."+this.idPrefix;var e=document.body}else if("string"==typeof t)e=document.getElementById(t);else e=t;var i=!1;for(var n in this.conf.ctx_zones)i=i||n==t||this.conf.ctx_zones[n]==e;if(1==i)return!1;this.conf.ctx_zones[t]=e;var l=this;window.dhx4.isOpera?(this.operaContext=function(t){l._doOnContextMenuOpera(t,l)},e.addEventListener("mouseup",this.operaContext,!1)):(null==e.oncontextmenu||e._oldContextMenuHandler||(e._oldContextMenuHandler=e.oncontextmenu),e.oncontextmenu=function(t){for(var e in dhtmlXMenuObject.prototype.liveInst)e!=l.conf.live_id&&dhtmlXMenuObject.prototype.liveInst[e].context&&dhtmlXMenuObject.prototype.liveInst[e]._hideContextMenu();return(t=t||event).cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,l._doOnContextBeforeCall(t,this),!1})},dhtmlXMenuObject.prototype._doOnContextMenuOpera=function(t,e){for(var i in dhtmlXMenuObject.prototype.liveInst)i!=e.conf.live_id&&dhtmlXMenuObject.prototype.liveInst[i].context&&dhtmlXMenuObject.prototype.liveInst[i]._hideContextMenu();return t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,0==t.button&&1==t.ctrlKey&&e._doOnContextBeforeCall(t,this),!1},dhtmlXMenuObject.prototype.removeContextZone=function(t){if(!this.isContextZone(t))return!1;t==document.body&&(t="document.body."+this.idPrefix);var e=this.conf.ctx_zones[t];window.dhx4.isOpera?e.removeEventListener("mouseup",this.operaContext,!1):(e.oncontextmenu=null!=e._oldContextMenuHandler?e._oldContextMenuHandler:null,e._oldContextMenuHandler=null);try{this.conf.ctx_zones[t]=null,delete this.conf.ctx_zones[t]}catch(i){}return!0},dhtmlXMenuObject.prototype.isContextZone=function(t){if(t==document.body&&null!=this.conf.ctx_zones["document.body."+this.idPrefix])return!0;var e=!1;return null!=this.conf.ctx_zones[t]&&this.conf.ctx_zones[t]==document.getElementById(t)&&(e=!0),e},dhtmlXMenuObject.prototype._isContextMenuVisible=function(){return null!=this.idPull["polygon_"+this.idPrefix+this.topId]&&""==this.idPull["polygon_"+this.idPrefix+this.topId].style.display},dhtmlXMenuObject.prototype._showContextMenu=function(t,e,i){if(this._clearAndHide(),null==this.idPull["polygon_"+this.idPrefix+this.topId])return!1;window.clearTimeout(this.conf.tm_handler),this.idPull[this.idPrefix+this.topId]=new Array(t,e),this._showPolygon(this.idPrefix+this.topId,"bottom"),this.callEvent("onContextMenu",[i])},dhtmlXMenuObject.prototype._hideContextMenu=function(){if(null==this.idPull["polygon_"+this.idPrefix+this.topId])return!1;this._clearAndHide(),this._hidePolygon(this.idPrefix+this.topId)},dhtmlXMenuObject.prototype._doOnContextBeforeCall=function(t,e){if(this.conf.ctx_zoneid=e.id,this._clearAndHide(),this._hideContextMenu(),1==window.dhx4.isChrome||1==window.dhx4.isEdge||1==window.dhx4.isOpera||1==window.dhx4.isIE11)var i=window.dhx4.absLeft(t.target)+t.offsetX,n=window.dhx4.absTop(t.target)+t.offsetY;else if(1==window.dhx4.isIE6||1==window.dhx4.isIE7||1==window.dhx4.isIE)i=window.dhx4.absLeft(t.srcElement)+t.x||0,n=window.dhx4.absTop(t.srcElement)+t.y||0;else{var l=t.srcElement||t.target,o=window.dhx4.isIE||window.dhx4.isKHTML?t.offsetX:t.layerX,s=window.dhx4.isIE||window.dhx4.isKHTML?t.offsetY:t.layerY;i=window.dhx4.absLeft(l)+o,n=window.dhx4.absTop(l)+s}this.checkEvent("onBeforeContextMenu")?this.callEvent("onBeforeContextMenu",[e.id,t])&&this.conf.ctx_autoshow&&(this._showContextMenu(i,n,e.id),this.callEvent("onAfterContextMenu",[e.id,t])):this.conf.ctx_autoshow&&(this._showContextMenu(i,n,e.id),this.callEvent("onAfterContextMenu",[e.id]))},dhtmlXMenuObject.prototype.showContextMenu=function(t,e){this._showContextMenu(t,e,!1)},dhtmlXMenuObject.prototype.hideContextMenu=function(){this._hideContextMenu()},dhtmlXMenuObject.prototype.setAutoShowMode=function(t){this.conf.ctx_autoshow=1==t},dhtmlXMenuObject.prototype.setAutoHideMode=function(t){this.conf.ctx_autohide=1==t},dhtmlXMenuObject.prototype.setContextMenuHideAllMode=function(t){this.conf.ctx_hideall=1==t},dhtmlXMenuObject.prototype.getContextMenuHideAllMode=function(){return this.conf.ctx_hideall},dhtmlXMenuObject.prototype._improveTerraceSkin=function(){for(var t in this.itemPull)if(this.itemPull[t].parent==this.idPrefix+this.topId&&null!=this.idPull[t]){var e=!1,i=!1;for(var n in this.idPull[t].parentNode.firstChild==this.idPull[t]&&(e=!0),this.idPull[t].parentNode.lastChild==this.idPull[t]&&(i=!0),this.itemPull)"separator"==this.itemPull[n].type&&this.itemPull[n].parent==this.idPrefix+this.topId&&(this.idPull[t].nextSibling==this.idPull["separator_"+n]&&(i=!0),this.idPull[t].previousSibling==this.idPull["separator_"+n]&&(e=!0));this.idPull[t].style.borderLeftWidth=e?"1px":"0px",this.idPull[t].style.borderTopLeftRadius=this.idPull[t].style.borderBottomLeftRadius=e?"3px":"0px",this.idPull[t].style.borderTopRightRadius=this.idPull[t].style.borderBottomRightRadius=i?"3px":"0px",this.idPull[t]._bl=e,this.idPull[t]._br=i}},dhtmlXMenuObject.prototype._improveTerraceButton=function(t,e){e?(this.idPull[t].style.borderBottomLeftRadius=this.idPull[t]._bl?"3px":"0px",this.idPull[t].style.borderBottomRightRadius=this.idPull[t]._br?"3px":"0px"):(this.idPull[t].style.borderBottomLeftRadius="0px",this.idPull[t].style.borderBottomRightRadius="0px")},"undefined"!=typeof window.dhtmlXCellObject&&(dhtmlXCellObject.prototype._createNode_menu=function(t,e,i,n,l){return void 0!==l?t=l:((t=document.createElement("DIV")).className="dhx_cell_menu_"+(this.conf.borders?"def":"no_borders"),t.appendChild(document.createElement("DIV"))),this.cell.insertBefore(t,this.cell.childNodes[this.conf.idx.toolbar||this.conf.idx.cont]),this.conf.ofs_nodes.t.menu=!0,this._updateIdx(),t},dhtmlXCellObject.prototype.attachMenu=function(t){if(!this.dataNodes.menu)return this.callEvent("_onBeforeContentAttach",["menu"]),void 0===t&&(t={}),"undefined"==typeof t.skin&&(t.skin=this.conf.skin),t.parent=this._attachObject("menu").firstChild,this.dataNodes.menu=new dhtmlXMenuObject(t),this._adjustCont(this._idd),t.parent=null,t=null,this.callEvent("_onContentAttach",[]),this.dataNodes.menu},dhtmlXCellObject.prototype.detachMenu=function(){this.dataNodes.menu&&(this.dataNodes.menu.unload(),this.dataNodes.menu=null,delete this.dataNodes.menu,this._detachObject("menu"))},dhtmlXCellObject.prototype.showMenu=function(){this._mtbShowHide("menu","")},dhtmlXCellObject.prototype.hideMenu=function(){this._mtbShowHide("menu","none")},dhtmlXCellObject.prototype.getAttachedMenu=function(){return this.dataNodes.menu}),dhtmlXMenuObject.prototype.setItemEnabled=function(t){this._changeItemState(t,"enabled",this._getItemLevelType(t))},dhtmlXMenuObject.prototype.setItemDisabled=function(t){this._changeItemState(t,"disabled",this._getItemLevelType(t))},dhtmlXMenuObject.prototype.isItemEnabled=function(t){return null!=this.itemPull[this.idPrefix+t]&&"enabled"==this.itemPull[this.idPrefix+t].state},dhtmlXMenuObject.prototype._changeItemState=function(t,e,i){var n=!1,l=this.idPrefix+t;return null!=this.itemPull[l]&&null!=this.idPull[l]&&this.itemPull[l].state!=e&&(this.itemPull[l].state=e,this.itemPull[l].parent!=this.idPrefix+this.topId||this.conf.context?this.idPull[l].className="sub_item"+("enabled"==this.itemPull[l].state?"":"_dis"):this.idPull[l].className="dhtmlxMenu_"+this.conf.skin+"_TopLevel_Item_"+("enabled"==this.itemPull[l].state?"Normal":"Disabled"),this._updateItemComplexState(this.idPrefix+t,this.itemPull[this.idPrefix+t].complex,!1),this._updateItemImage(t,i),this.idPrefix+this.conf.last_click==l&&"TopLevel"!=i&&this._redistribSubLevelSelection(l,this.itemPull[l].parent),"TopLevel"==i&&this.conf.context),n},dhtmlXMenuObject.prototype.getItemText=function(t){return null!=this.itemPull[this.idPrefix+t]?this.itemPull[this.idPrefix+t].title:""},dhtmlXMenuObject.prototype.setItemText=function(t,e){if(t=this.idPrefix+t,null!=this.itemPull[t]&&null!=this.idPull[t])if(this._clearAndHide(),this.itemPull[t].title=e,this.itemPull[t].parent!=this.idPrefix+this.topId||this.conf.context){for(i=null,n=0;n<this.idPull[t].childNodes[1].childNodes.length;n++)"sub_item_text"==String(this.idPull[t].childNodes[1].childNodes[n].className||"")&&(i=this.idPull[t].childNodes[1].childNodes[n]);""==String(this.itemPull[t].title).length||null==this.itemPull[t].title?i&&(i.parentNode.removeChild(i),i=null,this.idPull[t].childNodes[1].innerHTML="&nbsp;"):(i||((i=document.createElement("DIV")).className="sub_item_text",this.idPull[t].childNodes[1].innerHTML="",this.idPull[t].childNodes[1].appendChild(i)),i.innerHTML=this.itemPull[t].title)}else{for(var i=null,n=0;n<this.idPull[t].childNodes.length;n++)try{"top_level_text"==this.idPull[t].childNodes[n].className&&(i=this.idPull[t].childNodes[n])}catch(l){}""==String(this.itemPull[t].title).length||null==this.itemPull[t].title?null!=i&&i.parentNode.removeChild(i):(i||((i=document.createElement("DIV")).className="top_level_text",this.conf.rtl&&0<this.idPull[t].childNodes.length?this.idPull[t].insertBefore(i,this.idPull[t].childNodes[0]):this.idPull[t].appendChild(i)),i.innerHTML=this.itemPull[t].title)}},dhtmlXMenuObject.prototype.loadFromHTML=function(t,e,i){var n=this.conf.tags.item;this.conf.tags.item="div";var l="string"==typeof t?document.getElementById(t):t,o=this._xmlToJson(l,this.idPrefix+this.topId);this._initObj(o),this.conf.tags.item=n,e&&l.parentNode.removeChild(l),l=objOd=null,null!=onload&&("function"==typeof i?i():"function"==typeof window[i]&&window[i]())},dhtmlXMenuObject.prototype.hideItem=function(t){this._changeItemVisible(t,!1)},dhtmlXMenuObject.prototype.showItem=function(t){this._changeItemVisible(t,!0)},dhtmlXMenuObject.prototype.isItemHidden=function(t){var e=null;return null!=this.idPull[this.idPrefix+t]&&(e="none"==this.idPull[this.idPrefix+t].style.display),e},dhtmlXMenuObject.prototype._changeItemVisible=function(t,e){var i=this.idPrefix+t;null!=this.itemPull[i]&&("separator"==this.itemPull[i].type&&(i="separator_"+i),null!=this.idPull[i]&&(this.idPull[i].style.display=e?"":"none",this._redefineComplexState(this.itemPull[this.idPrefix+t].parent)))},dhtmlXMenuObject.prototype.setUserData=function(t,e,i){this.userData[this.idPrefix+t+"_"+e]=i},dhtmlXMenuObject.prototype.getUserData=function(t,e){return null!=this.userData[this.idPrefix+t+"_"+e]?this.userData[this.idPrefix+t+"_"+e]:null},dhtmlXMenuObject.prototype.setOpenMode=function(t){this.conf.mode="win"==t?"win":"web"},dhtmlXMenuObject.prototype.setWebModeTimeout=function(t){this.conf.tm_sec=isNaN(t)?400:t},dhtmlXMenuObject.prototype.getItemImage=function(t){var e=new Array(null,null);return t=this.idPrefix+t,"item"==this.itemPull[t].type&&(e[0]=this.itemPull[t].imgen,e[1]=this.itemPull[t].imgdis),e},dhtmlXMenuObject.prototype.setItemImage=function(t,e,i){"item"==this.itemPull[this.idPrefix+t].type&&(this.itemPull[this.idPrefix+t].imgen=e,this.itemPull[this.idPrefix+t].imgdis=i,this._updateItemImage(t,this._getItemLevelType(t)))},dhtmlXMenuObject.prototype.clearItemImage=function(t){this.setItemImage(t,"","")},dhtmlXMenuObject.prototype.setVisibleArea=function(t,e,i,n){this.conf.v_enabled=!0,this.conf.v.x1=t,this.conf.v.x2=e,this.conf.v.y1=i,this.conf.v.y2=n},dhtmlXMenuObject.prototype.setTooltip=function(t,e){t=this.idPrefix+t,null!=this.itemPull[t]&&null!=this.idPull[t]&&(this.idPull[t].title=0<e.length?e:null,this.itemPull[t].tip=e)},dhtmlXMenuObject.prototype.getTooltip=function(t){return null==this.itemPull[this.idPrefix+t]?null:this.itemPull[this.idPrefix+t].tip},dhtmlXMenuObject.prototype.setTopText=function(t){this.conf.context||(null==this._topText&&(this._topText=document.createElement("DIV"),this._topText.className="dhtmlxMenu_TopLevel_Text_"+(this.conf.rtl?"left":"left"==this.conf.align?"right":"left"),this.base.appendChild(this._topText)),this._topText.innerHTML=t)},dhtmlXMenuObject.prototype.setAlign=function(t){this.conf.align!=t&&("left"!=t&&"right"!=t||(this.conf.align=t,this.cont&&(this.cont.className="right"==this.conf.align?"align_right":"align_left"),null!=this._topText&&(this._topText.className="dhtmlxMenu_TopLevel_Text_"+("left"==this.conf.align?"right":"left"))))},dhtmlXMenuObject.prototype.setHref=function(t,e,i){null!=this.itemPull[this.idPrefix+t]&&(this.itemPull[this.idPrefix+t].href_link=e,null!=i&&(this.itemPull[this.idPrefix+t].href_target=i))},dhtmlXMenuObject.prototype.clearHref=function(t){null!=this.itemPull[this.idPrefix+t]&&(delete this.itemPull[this.idPrefix+t].href_link,delete this.itemPull[this.idPrefix+t].href_target)},dhtmlXMenuObject.prototype.getCircuit=function(t){for(var e=new Array(t);this.getParentId(t)!=this.topId;)t=this.getParentId(t),e[e.length]=t;return e.reverse()},dhtmlXMenuObject.prototype._getCheckboxState=function(t){return null==this.itemPull[this.idPrefix+t]?null:this.itemPull[this.idPrefix+t].checked},dhtmlXMenuObject.prototype._setCheckboxState=function(t,e){null!=this.itemPull[this.idPrefix+t]&&(this.itemPull[this.idPrefix+t].checked=e)},dhtmlXMenuObject.prototype._updateCheckboxImage=function(t){if(null!=this.idPull[this.idPrefix+t]){this.itemPull[this.idPrefix+t].imgen="chbx_"+(this._getCheckboxState(t)?"1":"0"),this.itemPull[this.idPrefix+t].imgdis=this.itemPull[this.idPrefix+t].imgen;try{this.idPull[this.idPrefix+t].childNodes[this.conf.rtl?2:0].childNodes[0].className="sub_icon "+this.itemPull[this.idPrefix+t].imgen}catch(e){}}},dhtmlXMenuObject.prototype._checkboxOnClickHandler=function(t,e,i){if("d"!=e.charAt(1)&&null!=this.itemPull[this.idPrefix+t]){var n=this._getCheckboxState(t);this.checkEvent("onCheckboxClick")?this.callEvent("onCheckboxClick",[t,n,this.conf.ctx_zoneid,i])&&this.setCheckboxState(t,!n):this.setCheckboxState(t,!n),this.checkEvent("onClick")&&this.callEvent("onClick",[t])}},dhtmlXMenuObject.prototype.setCheckboxState=function(t,e){this._setCheckboxState(t,e),this._updateCheckboxImage(t)},dhtmlXMenuObject.prototype.getCheckboxState=function(t){return this._getCheckboxState(t)},dhtmlXMenuObject.prototype.addCheckbox=function(t,e,i,n,l,o,s){if(this.conf.context&&e==this.topId);else{if(null==this.itemPull[this.idPrefix+e])return;if("child"==t&&"item"!=this.itemPull[this.idPrefix+e].type)return}var d="chbx_"+(o?"1":"0"),r=d;if("sibling"==t){var a=this.idPrefix+(null!=n?n:this._genStr(24)),h=this.idPrefix+this.getParentId(e);this._addItemIntoGlobalStrorage(a,h,l,"checkbox",s,d,r),this.itemPull[a].checked=o,this._renderSublevelItem(a,this.getItemPosition(e))}else{a=this.idPrefix+(null!=n?n:this._genStr(24)),h=this.idPrefix+e;this._addItemIntoGlobalStrorage(a,h,l,"checkbox",s,d,r),this.itemPull[a].checked=o,null==this.idPull["polygon_"+h]&&this._renderSublevelPolygon(h,h),this._renderSublevelItem(a,i-1),this._redefineComplexState(h)}},dhtmlXMenuObject.prototype.setHotKey=function(t,e){if(t=this.idPrefix+t,null!=this.itemPull[t]&&null!=this.idPull[t]&&(this.itemPull[t].parent!=this.idPrefix+this.topId||this.conf.context)&&!this.itemPull[t].complex){var i=this.itemPull[t].type;if("item"==i||"checkbox"==i||"radio"==i){var n=null;try{"sub_item_hk"==this.idPull[t].childNodes[this.conf.rtl?0:2].childNodes[0].className&&(n=this.idPull[t].childNodes[this.conf.rtl?0:2].childNodes[0])}catch(o){}if(0==e.length)this.itemPull[t].hotkey_backup=this.itemPull[t].hotkey,this.itemPull[t].hotkey="",null!=n&&n.parentNode.removeChild(n);else{if(this.itemPull[t].hotkey=e,(this.itemPull[t].hotkey_backup=null)==n){(n=document.createElement("DIV")).className="sub_item_hk";for(var l=this.idPull[t].childNodes[this.conf.rtl?0:2];0<l.childNodes.length;)l.removeChild(l.childNodes[0]);l.appendChild(n)}n.innerHTML=e}}}},dhtmlXMenuObject.prototype.getHotKey=function(t){return null==this.itemPull[this.idPrefix+t]?null:this.itemPull[this.idPrefix+t].hotkey},dhtmlXMenuObject.prototype._clearAllSelectedSubItemsInPolygon=function(t){for(var e=this._getSubItemToDeselectByPolygon(t),i=0;i<this.conf.opened_poly.length;i++)this.conf.opened_poly[i]!=t&&this._hidePolygon(this.conf.opened_poly[i]);for(i=0;i<e.length;i++)null!=this.idPull[e[i]]&&"enabled"==this.itemPull[e[i]].state&&(this.idPull[e[i]].className="dhtmlxMenu_"+this.conf.skin+"_SubLevelArea_Item_Normal")},dhtmlXMenuObject.prototype._checkArrowsState=function(t){var e=this.idPull["polygon_"+t].childNodes[1],i=this.idPull["arrowup_"+t],n=this.idPull["arrowdown_"+t];0==e.scrollTop?i.className="dhtmlxMenu_"+this.conf.skin+"_SubLevelArea_ArrowUp_Disabled":i.className="dhtmlxMenu_"+this.conf.skin+"_SubLevelArea_ArrowUp"+(i.over?"_Over":""),e.scrollTop+e.offsetHeight<e.scrollHeight?n.className="dhtmlxMenu_"+this.conf.skin+"_SubLevelArea_ArrowDown"+(n.over?"_Over":""):n.className="dhtmlxMenu_"+this.conf.skin+"_SubLevelArea_ArrowDown_Disabled",e=i=n=null},dhtmlXMenuObject.prototype._addUpArrow=function(t){var e=this,i=document.createElement("DIV");i.pId=this.idPrefix+t,i.id="arrowup_"+this.idPrefix+t,i.className="dhtmlxMenu_"+this.conf.skin+"_SubLevelArea_ArrowUp",i.over=!1,i.onselectstart=function(t){return(t=t||event).preventDefault?t.preventDefault():t.returnValue=!1,!1},i.oncontextmenu=function(t){return(t=t||event).preventDefault?t.preventDefault():t.returnValue=!1,!1},i.onmouseover=function(){"web"==e.conf.mode&&window.clearTimeout(e.conf.tm_handler),e._clearAllSelectedSubItemsInPolygon(this.pId),this.className!="dhtmlxMenu_"+e.conf.skin+"_SubLevelArea_ArrowUp_Disabled"&&(this.className="dhtmlxMenu_"+e.conf.skin+"_SubLevelArea_ArrowUp_Over",this.over=!0,e._canScrollUp=!0,e._doScrollUp(this.pId,!0))},i.onmouseout=function(){"web"==e.conf.mode&&(window.clearTimeout(e.conf.tm_handler),e.conf.tm_handler=window.setTimeout(function(){e._clearAndHide()},e.conf.tm_sec,"JavaScript")),this.over=!1,e._canScrollUp=!1,this.className!="dhtmlxMenu_"+e.conf.skin+"_SubLevelArea_ArrowUp_Disabled"&&(this.className="dhtmlxMenu_"+e.conf.skin+"_SubLevelArea_ArrowUp",window.clearTimeout(e.conf.of_utm))},i.onclick=function(t){return(t=t||event).preventDefault?t.preventDefault():t.returnValue=!1,!(t.cancelBubble=!0)};var n=this.idPull["polygon_"+this.idPrefix+t];n.childNodes[0].appendChild(i),this.idPull[i.id]=i,n=i=null},dhtmlXMenuObject.prototype._addDownArrow=function(t){var e=this,i=document.createElement("DIV");i.pId=this.idPrefix+t,i.id="arrowdown_"+this.idPrefix+t,i.className="dhtmlxMenu_"+this.conf.skin+"_SubLevelArea_ArrowDown",i.over=!1,i.onselectstart=function(t){return(t=t||event).preventDefault?t.preventDefault():t.returnValue=!1,!1},i.oncontextmenu=function(t){return(t=t||event).preventDefault?t.preventDefault():t.returnValue=!1,!1},i.onmouseover=function(){"web"==e.conf.mode&&window.clearTimeout(e.conf.tm_handler),e._clearAllSelectedSubItemsInPolygon(this.pId),this.className!="dhtmlxMenu_"+e.conf.skin+"_SubLevelArea_ArrowDown_Disabled"&&(this.className="dhtmlxMenu_"+e.conf.skin+"_SubLevelArea_ArrowDown_Over",this.over=!0,e._canScrollDown=!0,e._doScrollDown(this.pId,!0))},i.onmouseout=function(){"web"==e.conf.mode&&(window.clearTimeout(e.conf.tm_handler),e.conf.tm_handler=window.setTimeout(function(){e._clearAndHide()},e.conf.tm_sec,"JavaScript")),this.over=!1,e._canScrollDown=!1,this.className!="dhtmlxMenu_"+e.conf.skin+"_SubLevelArea_ArrowDown_Disabled"&&(this.className="dhtmlxMenu_"+e.conf.skin+"_SubLevelArea_ArrowDown",window.clearTimeout(e.conf.of_dtm))},i.onclick=function(t){return(t=t||event).preventDefault?t.preventDefault():t.returnValue=!1,!(t.cancelBubble=!0)};var n=this.idPull["polygon_"+this.idPrefix+t];n.childNodes[2].appendChild(i),this.idPull[i.id]=i,n=i=null},dhtmlXMenuObject.prototype._removeUpArrow=function(t){var e="arrowup_"+this.idPrefix+t;this._removeArrow(e)},dhtmlXMenuObject.prototype._removeDownArrow=function(t){var e="arrowdown_"+this.idPrefix+t;this._removeArrow(e)},dhtmlXMenuObject.prototype._removeArrow=function(t){var e=this.idPull[t];e.onselectstart=null,e.oncontextmenu=null,e.onmouseover=null,e.onmouseout=null,e.onclick=null,e.parentNode&&e.parentNode.removeChild(e),e=null,this.idPull[t]=null;try{delete this.idPull[t]}catch(i){}},dhtmlXMenuObject.prototype._isArrowExists=function(t){return null!=this.idPull["arrowup_"+t]&&null!=this.idPull["arrowdown_"+t]},dhtmlXMenuObject.prototype._doScrollUp=function(t,e){var i=this.idPull["polygon_"+t].childNodes[1];if(this._canScrollUp&&0<i.scrollTop){var n=!1,l=i.scrollTop-this.conf.of_ustep;if(l<0&&(n=!0,l=0),i.scrollTop=l,n)e=!0;else{var o=this;this.conf.of_utm=window.setTimeout(function(){o._doScrollUp(t,!1),o=null},this.conf.of_utime)}}else this._canScrollUp=!1,this._checkArrowsState(t);e&&this._checkArrowsState(t)},dhtmlXMenuObject.prototype._doScrollDown=function(t,e){var i=this.idPull["polygon_"+t].childNodes[1];if(this._canScrollDown&&i.scrollTop+i.offsetHeight<=i.scrollHeight){var n=!1,l=i.scrollTop+this.conf.of_dstep;if(l+i.offsetHeight>=i.scrollHeight&&(n=!0,l=i.scrollHeight-i.offsetHeight),i.scrollTop=l,n)e=!0;else{var o=this;this.conf.of_dtm=window.setTimeout(function(){o._doScrollDown(t,!1),o=null},this.conf.of_dtime)}}else this._canScrollDown=!1,this._checkArrowsState(t);e&&this._checkArrowsState(t)},dhtmlXMenuObject.prototype._countPolygonItems=function(t){var e=0;for(var i in this.itemPull){var n=this.itemPull[i].parent,l=this.itemPull[i].type;n!=this.idPrefix+t||"item"!=l&&"radio"!=l&&"checkbox"!=l||e++}return e},dhtmlXMenuObject.prototype.setOverflowHeight=function(t){if("auto"===t)return this.conf.overflow_limit=0,void(this.conf.auto_overflow=!0);if(!(0==this.conf.overflow_limit&&t<=0))if(this._clearAndHide(),0<=this.conf.overflow_limit&&0<t)this.conf.overflow_limit=t;else if(0<this.conf.overflow_limit&&t<=0){for(var e in this.itemPull)if(this._isArrowExists(e)){var i=String(e).replace(this.idPrefix,"");this._removeUpArrow(i),this._removeDownArrow(i),this.idPull["polygon_"+e].childNodes[1].style.height=""}this.conf.overflow_limit=0}else;},dhtmlXMenuObject.prototype._getRadioImgObj=function(t){try{var e=this.idPull[this.idPrefix+t].childNodes[this.conf.rtl?2:0].childNodes[0]}catch(i){e=null}return e},dhtmlXMenuObject.prototype._setRadioState=function(t,e){var i=this._getRadioImgObj(t);if(null!=i){var n=this.itemPull[this.idPrefix+t];n.checked=e,n.imgen="rdbt_"+(n.checked?"1":"0"),n.imgdis=n.imgen,i.className="sub_icon "+n.imgen}},dhtmlXMenuObject.prototype._radioOnClickHandler=function(t,e,i){if("d"!=e.charAt(1)&&null!=this.itemPull[this.idPrefix+t].group){var n=this.itemPull[this.idPrefix+t].group;this.checkEvent("onRadioClick")?this.callEvent("onRadioClick",[n,this.getRadioChecked(n),t,this.conf.ctx_zoneid,i])&&this.setRadioChecked(n,t):this.setRadioChecked(n,t),this.checkEvent("onClick")&&this.callEvent("onClick",[t])}},dhtmlXMenuObject.prototype.getRadioChecked=function(t){for(var e=null,i=0;i<this.radio[t].length;i++){var n=this.radio[t][i].replace(this.idPrefix,""),l=this._getRadioImgObj(n);if(null!=l)null!=l.className.match(/rdbt_1$/gi)&&(e=n)}return e},dhtmlXMenuObject.prototype.setRadioChecked=function(t,e){if(null!=this.radio[t])for(var i=0;i<this.radio[t].length;i++){var n=this.radio[t][i].replace(this.idPrefix,"");this._setRadioState(n,n==e)}},dhtmlXMenuObject.prototype.addRadioButton=function(t,e,i,n,l,o,s,d){if(this.conf.context&&e==this.topId);else{if(null==this.itemPull[this.idPrefix+e])return;if("child"==t&&"item"!=this.itemPull[this.idPrefix+e].type)return}var r=this.idPrefix+(null!=n?n:this._genStr(24)),a="rdbt_"+(s?"1":"0"),h=a;if("sibling"==t){var u=this.idPrefix+this.getParentId(e);this._addItemIntoGlobalStrorage(r,u,l,"radio",d,a,h),this._renderSublevelItem(r,this.getItemPosition(e))}else{u=this.idPrefix+e;this._addItemIntoGlobalStrorage(r,u,l,"radio",d,a,h),null==this.idPull["polygon_"+u]&&this._renderSublevelPolygon(u,u),this._renderSublevelItem(r,i-1),this._redefineComplexState(u)}var c=null!=o?o:this._genStr(24);this.itemPull[r].group=c,null==this.radio[c]&&(this.radio[c]=new Array),this.radio[c][this.radio[c].length]=r,1==s&&this.setRadioChecked(c,String(r).replace(this.idPrefix,""))},dhtmlXMenuObject.prototype.serialize=function(){return"<menu>"+this._readLevel(this.idPrefix+this.topId)+"</menu>"},dhtmlXMenuObject.prototype._readLevel=function(t){var e="";for(var i in this.itemPull)if(this.itemPull[i].parent==t){var n="",l="",o="",s=String(this.itemPull[i].id).replace(this.idPrefix,""),d="",r=""!=this.itemPull[i].title?' text="'+this.itemPull[i].title+'"':"",a="";"item"==this.itemPull[i].type&&(""!=this.itemPull[i].imgen&&(n=' img="'+this.itemPull[i].imgen+'"'),""!=this.itemPull[i].imgdis&&(l=' imgdis="'+this.itemPull[i].imgdis+'"'),""!=this.itemPull[i].hotkey&&(o="<hotkey>"+this.itemPull[i].hotkey+"</hotkey>")),"separator"==this.itemPull[i].type?d=' type="separator"':"disabled"==this.itemPull[i].state&&(a=' enabled="false"'),"checkbox"==this.itemPull[i].type&&(d=' type="checkbox"'+(this.itemPull[i].checked?' checked="true"':"")),"radio"==this.itemPull[i].type&&(d=' type="radio" group="'+this.itemPull[i].group+'" '+(this.itemPull[i].checked?' checked="true"':"")),e+="<item id='"+s+"'"+r+d+n+l+a+">",e+=o,this.itemPull[i].complex&&(e+=this._readLevel(i)),e+="</item>"}return e},dhtmlXMenuObject.prototype.enableEffect=function(t,e,i){for(var n in this._menuEffect=("opacity"==t||"slide"==t||"slide+"==t)&&t,this._pOpStyleIE=0<=navigator.userAgent.search(/MSIE\s[678]\.0/gi),this.idPull)0===n.search(/polygon/)&&(this._pOpacityApply(n,this._pOpStyleIE?100:1),this.idPull[n].style.height="");this._pOpMax=(void 0===e?100:e)/(this._pOpStyleIE?1:100),this._pOpStyleName=this._pOpStyleIE?"filter":"opacity",this._pOpStyleValue=this._pOpStyleIE?"progid:DXImageTransform.Microsoft.Alpha(Opacity=#)":"#",this._pSlSteps=this._pOpStyleIE?10:20,this._pSlTMTimeMax=i||50},dhtmlXMenuObject.prototype._showPolygonEffect=function(t){this._pShowHide(t,!0)},dhtmlXMenuObject.prototype._hidePolygonEffect=function(t){this._pShowHide(t,!1)},
dhtmlXMenuObject.prototype._pOpacityApply=function(t,e){this.idPull[t].style[this._pOpStyleName]=String(this._pOpStyleValue).replace("#",e||this.idPull[t]._op)},dhtmlXMenuObject.prototype._pShowHide=function(t,e){if(this.idPull){if(null!=this.idPull[t]._tmShow){if(0<this.idPull[t]._step_h&&1==e||this.idPull[t]._step_h<0&&0==e)return;window.clearTimeout(this.idPull[t]._tmShow),this.idPull[t]._tmShow=null,this.idPull[t]._max_h=null}if(0!=e||"hidden"!=this.idPull[t].style.visibility&&"none"!=this.idPull[t].style.display){if(1==e&&"none"==this.idPull[t].style.display&&(this.idPull[t].style.visibility="hidden",this.idPull[t].style.display=""),null==this.idPull[t]._max_h){if(this.idPull[t]._max_h=parseInt(this.idPull[t].offsetHeight),this.idPull[t]._h=1==e?0:this.idPull[t]._max_h,this.idPull[t]._step_h=Math.round(this.idPull[t]._max_h/this._pSlSteps)*(1==e?1:-1),0==this.idPull[t]._step_h)return;this.idPull[t]._step_tm=Math.round(this._pSlTMTimeMax/this._pSlSteps),"slide+"==this._menuEffect||"opacity"==this._menuEffect?(this.idPull[t].op_tm=this.idPull[t]._step_tm,this.idPull[t].op_step=this._pOpMax/this._pSlSteps*(1==e?1:-1),this._pOpStyleIE&&(this.idPull[t].op_step=Math.round(this.idPull[t].op_step)),this.idPull[t]._op=1==e?0:this._pOpMax):this.idPull[t]._op=this._pOpStyleIE?100:1,this._pOpacityApply(t),0===this._menuEffect.search(/slide/)&&(this.idPull[t].style.height="0px"),this.idPull[t].style.visibility="visible"}this._pEffectSet(t,this.idPull[t]._h+this.idPull[t]._step_h)}}},dhtmlXMenuObject.prototype._pEffectSet=function(t,e){if(this.idPull)if(this.idPull[t]._tmShow&&window.clearTimeout(this.idPull[t]._tmShow),this.idPull[t]._h=Math.max(0,Math.min(e,this.idPull[t]._max_h)),0===this._menuEffect.search(/slide/)&&(this.idPull[t].style.height=this.idPull[t]._h+"px"),e+=this.idPull[t]._step_h,"slide+"!=this._menuEffect&&"opacity"!=this._menuEffect||(this.idPull[t]._op=Math.max(0,Math.min(this._pOpMax,this.idPull[t]._op+this.idPull[t].op_step)),this._pOpacityApply(t)),0<this.idPull[t]._step_h&&e<=this.idPull[t]._max_h||this.idPull[t]._step_h<0&&0<=e){var i=this;this.idPull[t]._tmShow=window.setTimeout(function(){i._pEffectSet(t,e)},this.idPull[t]._step_tm)}else 0===this._menuEffect.search(/slide/)&&(this.idPull[t].style.height=""),this.idPull[t]._step_h<0&&(this.idPull[t].style.visibility="hidden"),"slide+"!=this._menuEffect&&"opacity"!=this._menuEffect||(this.idPull[t]._op=this.idPull[t]._step_h<0?this._pOpStyleIE?100:1:this._pOpMax,this._pOpacityApply(t)),this.idPull[t]._tmShow=null,this.idPull[t]._h=null,this.idPull[t]._max_h=null,this.idPull[t]._step_tm=null};